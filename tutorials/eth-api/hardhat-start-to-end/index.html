<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Learn how to develop, test, and deploy smart contracts with Hardhat and how to take your contracts from a local development node to Moonbeam MainNet."><link href=https://eshaben.github.io/moonbeam-mkdocs/tutorials/eth-api/hardhat-start-to-end/ rel=canonical><link href=../foundry-start-to-end/ rel=prev><link href=../using-tenderly/ rel=next><link rel=icon href=../../../assets/images/favicon.webp><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.24"><title>Hardhat Developer Workflow | Moonbeam Docs</title><link rel=stylesheet href=../../../assets/stylesheets/main.6543a935.min.css><link href=https://widget.kapa.ai/ rel=preconnect><style data-emotion=mantine data-s></style><script defer src=https://widget.kapa.ai/kapa-widget.bundle.js data-website-id=80af633e-fba6-486e-b3c8-b01fb6ca2a10 data-project-name=Moonbeam data-project-color="rgb(48, 47, 83)" data-project-logo=/images/moonbot.webp data-button-position-right=40px data-button-position-bottom=40px data-button-border-radius=4px data-modal-border-radius=4px data-search-show-more-button-text-color=#000 data-font-family="Banana Grotesk" data-footer-tos-privacy-links='[{"title": "terms of service", "url": "https://moonbeam.network/terms-of-use"}, {"title": "privacy policy", "url": "https://moonbeam.network/privacy-policy"}]'></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel=preconnect href=https://fonts.googleapis.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel=stylesheet><link rel=stylesheet href=../../../assets/stylesheets/moonbeam.min.css><link rel=stylesheet href=../../../assets/stylesheets/termynal.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-5ZBERCXWC3",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#hardhat-developer-workflow class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <p>As of Runtime 3400, the minimum gas price has been reduced by 4x to 31.25 Gwei. Learn more about <a href=https://github.com/moonbeam-foundation/moonbeam/pull/3058>the new minimum gas price</a>.</p> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <div class=md-header__left-nav> <a href=https://eshaben.github.io/moonbeam-mkdocs/ title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src=../../../assets/images/logo.webp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> </div> <div class=md-header__buttons> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../builders/ >Builders</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../builders/get-started/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/get-started.webp alt="Get Started" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Get Started</span> <p class=dropdown-desc>Everything you need to get started building</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../builders/ethereum/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/ethereum.webp alt="Ethereum Toolkit" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Ethereum Toolkit</span> <p class=dropdown-desc>Ethereum libraries, tools, and contracts</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../builders/substrate/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/substrate.webp alt="Substrate Toolkit" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Substrate Toolkit</span> <p class=dropdown-desc>Substrate libraries, tools, and low-level interfaces</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../builders/interoperability/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/interoperability.webp alt=Interoperability loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Interoperability</span> <p class=dropdown-desc>GMP protocols for cross-chain development</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../builders/integrations/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/integrations.webp alt=Integrate loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Integrate</span> <p class=dropdown-desc>Tools and protocols to integrate with</p> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../node-operators/ >Node Operators</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../node-operators/networks/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/networks.webp alt=Networks loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Networks</span> <p class=dropdown-desc>Run full, tracing, or collator nodes</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../node-operators/oracle-nodes/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/oracle-nodes.webp alt="Oracle Nodes" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Oracle Nodes</span> <p class=dropdown-desc>Run infrastructure for oracles services</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../node-operators/indexer-nodes/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/indexer-nodes.webp alt="Indexer Nodes" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Indexer Nodes</span> <p class=dropdown-desc>Run infrastructure for indexing and querying services</p> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../tokens/ >Tokens</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../tokens/connect/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/connect.webp alt="Connect to Moonbeam" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Connect to Moonbeam</span> <p class=dropdown-desc>Connect your wallet to Moonbeam</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../tokens/manage/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/manage.webp alt="Account Management" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Account Management</span> <p class=dropdown-desc>Advanced account and identity services</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../tokens/staking/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/staking.webp alt=Staking loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Staking</span> <p class=dropdown-desc>Stake tokens by delegating to collators</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../tokens/governance/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/governance.webp alt=Governance loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Governance</span> <p class=dropdown-desc>Submit and vote on on-chain proposals</p> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../learn/ >Learn</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../learn/platform/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/platform.webp alt=Platform loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Platform</span> <p class=dropdown-desc>Dive into underlying technology and design aspects</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../learn/core-concepts/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/core-concepts.webp alt="Core Concepts" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Core Concepts</span> <p class=dropdown-desc>Learn about the fundamentals of Moonbeam</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../learn/features/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/features.webp alt=Features loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Features</span> <p class=dropdown-desc>Explore core features</p> </div> </a> </li> <li class=md-tab__item> <a href=../../../learn/dapps-list/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/dapps-list.webp alt="DApps List" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>DApps List</span> <p class=dropdown-desc>Discover DApps deployed on Moonbeam</p> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../ >Tutorials</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../interoperability/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/interoperability.webp alt=Interoperability loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Interoperability</span> <p class=dropdown-desc>Get hands-on building cross-chain DApps</p> </div> </a> </li> <li class=md-tab__item> <a href=../ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/eth-api.webp alt="Ethereum API" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Ethereum API</span> <p class=dropdown-desc>Beginner to pro smart contract tutorials</p> </div> </a> </li> <li class=md-tab__item> <a href=../../integrations/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/integrations.webp alt=Integrations loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Integrations</span> <p class=dropdown-desc>Dive deeper with tutorials on seamless integrations</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-select-wrapper select-wrapper"> <span class="language-select-label select-label">Eng</span> <ul class="language-select select"> <li class=en value=en><a href=#>Eng</a></li> <li class=cn value=cn><a href>中文</a></li> </ul> <span class="md-icon selector-closed active"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42Z"/></svg></span> <span class="md-icon selector-open"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41Z"/></svg></span> </div> <a href=# class="md-header__button md-button connectMetaMask-nav md-typeset"> Connect Wallet </a> <a class="md-header__button md-button faucet md-typeset" href=https://faucet.moonbeam.network/ target=_blank> Faucet </a> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component=logo> <img src=../../../assets/images/logo.webp alt=logo> </a> </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ >Builders</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/get-started/ >Get Started</a> <label for=__nav_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-get-started-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/get-started/quick-start/ class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../builders/get-started/create-account/ class=md-nav__link> Create an Account </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/get-started/networks/ >Networks</a> <label for=__nav_2_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-get-started-networks-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/get-started/networks/moonbeam-dev/ class=md-nav__link> Local Moonbeam Dev Node </a> </li> <li class=md-nav__item> <a href=../../../builders/get-started/networks/moonbase/ class=md-nav__link> Moonbase Alpha </a> </li> <li class=md-nav__item> <a href=../../../builders/get-started/networks/moonriver/ class=md-nav__link> Moonriver </a> </li> <li class=md-nav__item> <a href=../../../builders/get-started/networks/moonbeam/ class=md-nav__link> Moonbeam </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/get-started/endpoints/ class=md-nav__link> Network RPC Endpoints </a> </li> <li class=md-nav__item> <a href=../../../builders/get-started/explorers/ class=md-nav__link> Block Explorers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/ >Ethereum Toolkit</a> <label for=__nav_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/canonical-contracts/ class=md-nav__link> Canonical Contracts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/ >Precompiled Contracts</a> <label for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/account/ >Account Management</a> <label for=__nav_2_3_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-account-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/account/identity/ class=md-nav__link> Identity </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/account/proxy/ class=md-nav__link> Proxy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/ux/ >User Experience</a> <label for=__nav_2_3_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/ux/batch/ class=md-nav__link> Batch </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/ux/call-permit/ class=md-nav__link> Call Permit </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/ux/erc20/ class=md-nav__link> Native Token ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/features/ >Network Features</a> <label for=__nav_2_3_3_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/features/governance/ >Governance</a> <label for=__nav_2_3_3_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_3_3_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_5_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/governance/collective/ class=md-nav__link> Collective </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/governance/conviction-voting/ class=md-nav__link> Conviction Voting </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/governance/preimage/ class=md-nav__link> Preimage </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/governance/referenda/ class=md-nav__link> Referenda </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/randomness/ class=md-nav__link> Randomness </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/features/staking/ class=md-nav__link> Staking Functions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_6> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/interoperability/ >Interoperability</a> <label for=__nav_2_3_3_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_6> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/interoperability/gmp/ class=md-nav__link> GMP </a> </li> <li class=md-nav__item> <a href=/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/ class=md-nav__link> X-Tokens </a> </li> <li class=md-nav__item> <a href=/builders/interoperability/xcm/xc20/send-xc20s/eth-api/ class=md-nav__link> XCM Interface </a> </li> <li class=md-nav__item> <a href=/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/ class=md-nav__link> XCM Transactor </a> </li> <li class=md-nav__item> <a href=/builders/interoperability/xcm/xcm-utils/ class=md-nav__link> XCM Utilities </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_7> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/precompiles/utility/ >Utility</a> <label for=__nav_2_3_3_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_7> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/utility/eth-mainnet/ class=md-nav__link> Ethereum Native </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/utility/registry/ class=md-nav__link> Precompile Registry </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/utility/relay-data-verifier/ class=md-nav__link> Relay Data Verifier </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/precompiles/utility/non-specific/ class=md-nav__link> Non-Network Specific </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/libraries/ >Libraries</a> <label for=__nav_2_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-libraries-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/libraries/ethersjs/ class=md-nav__link> Ethers.js </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/libraries/ethersrs/ class=md-nav__link> Ethers.rs </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/libraries/viem/ class=md-nav__link> viem </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/libraries/web3js/ class=md-nav__link> Web3.js </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/libraries/web3py/ class=md-nav__link> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/dev-env/ >Dev Environments</a> <label for=__nav_2_3_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/dev-env/openzeppelin/ >OpenZeppelin</a> <label for=__nav_2_3_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_5_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-dev-env-openzeppelin-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/openzeppelin/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/openzeppelin/contracts/ class=md-nav__link> Contract Wizard </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/openzeppelin/defender/ class=md-nav__link> Defender </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/ape/ class=md-nav__link> Ape </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/brownie/ class=md-nav__link> Brownie </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/foundry/ class=md-nav__link> Foundry </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/hardhat/ class=md-nav__link> Hardhat </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/remix/ class=md-nav__link> Remix </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/scaffold-eth/ class=md-nav__link> Scaffold-ETH </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/tenderly/ class=md-nav__link> Tenderly </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/thirdweb/ class=md-nav__link> thirdweb </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/dev-env/waffle-mars/ class=md-nav__link> Waffle & Mars </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_6> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/verify-contracts/ >Verify Contracts</a> <label for=__nav_2_3_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_6> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-verify-contracts-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/verify-contracts/block-explorers/ class=md-nav__link> Block Explorers </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/verify-contracts/etherscan-plugins/ class=md-nav__link> Etherscan Plugins </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/verify-contracts/api-verification/ class=md-nav__link> API-based Verification </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_7> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/ethereum/json-rpc/ >JSON-RPC APIs</a> <label for=__nav_2_3_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_7> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-json-rpc-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/ethereum/json-rpc/eth-rpc/ class=md-nav__link> Standard Ethereum </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/json-rpc/debug-trace/ class=md-nav__link> Non-standard Ethereum: Tracing </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/json-rpc/pubsub/ class=md-nav__link> Non-standard Ethereum: Pubsub </a> </li> <li class=md-nav__item> <a href=../../../builders/ethereum/json-rpc/moonbeam-custom-api/ class=md-nav__link> Custom Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/ >Substrate Toolkit</a> <label for=__nav_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/libraries/ >Libraries</a> <label for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-libraries-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/substrate/libraries/polkadot-js-api/ class=md-nav__link> Polkadot.js API </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/libraries/py-substrate-interface/ class=md-nav__link> Py Substrate Interface </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/libraries/sidecar/ class=md-nav__link> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/dev-env/ >Dev Environments</a> <label for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-dev-env-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/substrate/dev-env/chopsticks/ class=md-nav__link> Chopsticks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/ >Low-Level Interfaces</a> <label for=__nav_2_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/account/ >Account Management</a> <label for=__nav_2_4_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-account-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/account/identity/ class=md-nav__link> Identity </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/account/multisig/ class=md-nav__link> Multisig </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/account/proxy/ class=md-nav__link> Proxy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/features/ >Network Features</a> <label for=__nav_2_4_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/features/governance/ >Governance</a> <label for=__nav_2_4_4_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_4_4_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4_3_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-features-governance-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/features/governance/conviction-voting/ class=md-nav__link> Conviction Voting </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/features/governance/preimage/ class=md-nav__link> Preimage </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/features/governance/referenda/ class=md-nav__link> Referenda </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/features/staking/ class=md-nav__link> Parachain Staking </a> </li> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/features/randomness/ class=md-nav__link> Randomness </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/interoperability/ >Interoperability</a> <label for=__nav_2_4_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-interoperability-" data-md-scrollfix> <li class=md-nav__item> <a href=/builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/ class=md-nav__link> Polkadot XCM </a> </li> <li class=md-nav__item> <a href=/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/ class=md-nav__link> XCM Transactor </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_4_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/substrate/interfaces/utility/ >Utility</a> <label for=__nav_2_4_4_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_4_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-interfaces-utility-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/substrate/interfaces/utility/utility/ class=md-nav__link> Utility </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/ >Interoperability</a> <label for=__nav_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/ >XCM Interoperability</a> <label for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/core-concepts/ >Core Concepts</a> <label for=__nav_2_5_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/core-concepts/instructions/ class=md-nav__link> XCM Instructions </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/core-concepts/multilocations/ class=md-nav__link> Multilocations </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/core-concepts/weights-fees/ class=md-nav__link> Weights and Fees </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/xc-registration/ >XC Registration</a> <label for=__nav_2_5_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc-registration/forum-templates/ class=md-nav__link> Forum Templates </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc-registration/xc-integration/ class=md-nav__link> XC Channel Registration </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc-registration/assets/ class=md-nav__link> XC Asset Registration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/xc20/ >XC-20s</a> <label for=__nav_2_5_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/interact/ class=md-nav__link> Interact with XC-20s </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_5_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/xc20/send-xc20s/ >Send XC-20s</a> <label for=__nav_2_5_2_5_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_5_2_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_5_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/send-xc20s/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/ class=md-nav__link> Using the Substrate API: Polkadot XCM Pallet </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/ class=md-nav__link> Using the Ethereum API: X-Tokens Precompile </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xc20/send-xc20s/eth-api/ class=md-nav__link> Using the Ethereum API: XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_6> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/remote-execution/ >Remote Execution</a> <label for=__nav_2_5_2_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_6> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/remote-execution/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/remote-execution/computed-origins/ class=md-nav__link> Computed Origin Accounts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_6_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/xcm/remote-execution/substrate-calls/ >Remote Substrate Calls</a> <label for=__nav_2_5_2_6_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_5_2_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_6_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/ class=md-nav__link> Using the Substrate API </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/ class=md-nav__link> Using the Ethereum API </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/remote-execution/remote-evm-calls/ class=md-nav__link> Remote EVM Calls </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://moonbeam-foundation.github.io/xcm-sdk/latest/ class=md-nav__link> XCM SDK </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/send-execute-xcm/ class=md-nav__link> Send, Execute, & Test XCMs </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/xcm/xcm-utils/ class=md-nav__link> XCM Utilities </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/interoperability/protocols/ >Cross-Chain Protocols</a> <label for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-protocols-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/interoperability/protocols/axelar/ class=md-nav__link> Axelar </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/protocols/hyperlane/ class=md-nav__link> Hyperlane </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/protocols/layerzero/ class=md-nav__link> LayerZero </a> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/protocols/wormhole/ class=md-nav__link> Wormhole </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../builders/interoperability/mrl/ class=md-nav__link> Moonbeam Routed Liquidity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/integrations/ >Integrate</a> <label for=__nav_2_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/integrations/analytics/ >Analytics</a> <label for=__nav_2_6_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-analytics-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/integrations/analytics/dapplooker/ class=md-nav__link> Dapplooker </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/integrations/indexers/ >Indexers</a> <label for=__nav_2_6_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-indexers-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/integrations/indexers/thegraph/ class=md-nav__link> The Graph </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/indexers/covalent/ class=md-nav__link> GoldRush API </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/indexers/moralis/ class=md-nav__link> Moralis </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/indexers/subquery/ class=md-nav__link> SubQuery </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/indexers/subsquid/ class=md-nav__link> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/integrations/oracles/ >Oracles</a> <label for=__nav_2_6_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-oracles-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/api3/ class=md-nav__link> API3 </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/band-protocol/ class=md-nav__link> Band Protocol </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/chainlink/ class=md-nav__link> Chainlink </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/dia/ class=md-nav__link> DIA </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/razor-network/ class=md-nav__link> Razor Network </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/oracles/supra/ class=md-nav__link> Supra </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../builders/integrations/wallets/ >Wallets</a> <label for=__nav_2_6_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-wallets-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../builders/integrations/wallets/metamask/ class=md-nav__link> MetaMask </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/wallets/walletconnect/ class=md-nav__link> WalletConnect </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/wallets/particle-network/ class=md-nav__link> Particle Network </a> </li> <li class=md-nav__item> <a href=../../../builders/integrations/wallets/rainbowkit/ class=md-nav__link> RainbowKit </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/ >Node Operators</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/networks/ >Networks</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/networks/run-a-node/ >Run a Node</a> <label for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-run-a-node-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../node-operators/networks/run-a-node/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/run-a-node/docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/run-a-node/systemd/ class=md-nav__link> Using Systemd </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/run-a-node/flags/ class=md-nav__link> Flags </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/tracing-node/ class=md-nav__link> Run a Tracing Node </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/networks/collators/ >Collators</a> <label for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-collators-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/requirements/ class=md-nav__link> Requirements </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/account-management/ class=md-nav__link> Account Management </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/author-mapping/ class=md-nav__link> Author Mapping Precompile </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/activities/ class=md-nav__link> Collator Activities </a> </li> <li class=md-nav__item> <a href=../../../node-operators/networks/collators/orbiter/ class=md-nav__link> Orbiter Program </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/oracle-nodes/ >Oracle Nodes</a> <label for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-oracle-nodes-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../node-operators/oracle-nodes/node-chainlink/ class=md-nav__link> Chainlink Node </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../node-operators/indexer-nodes/ >Indexer Nodes</a> <label for=__nav_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-indexer-nodes-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../node-operators/indexer-nodes/thegraph-node/ class=md-nav__link> Graph Node </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/ >Tokens</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/connect/ >Connect to Moonbeam</a> <label for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-connect-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/connect/ledger/ >Ledger</a> <label for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-connect-ledger-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../tokens/connect/ledger/moonbeam/ class=md-nav__link> Moonbeam App </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/ledger/moonriver/ class=md-nav__link> Moonriver App </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/ledger/ethereum/ class=md-nav__link> Ethereum App </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tokens/connect/coinbase-wallet/ class=md-nav__link> Coinbase Wallet </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/mathwallet/ class=md-nav__link> MathWallet </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/metamask/ class=md-nav__link> MetaMask </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/polkadotjs/ class=md-nav__link> Polkadot.js Apps </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/subwallet/ class=md-nav__link> SubWallet </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/talisman/ class=md-nav__link> Talisman </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/trezor/ class=md-nav__link> Trezor </a> </li> <li class=md-nav__item> <a href=../../../tokens/connect/on-ramps/ class=md-nav__link> On Ramps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/manage/ >Account Management</a> <label for=__nav_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-manage-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../tokens/manage/proxy-accounts/ class=md-nav__link> Proxy Accounts </a> </li> <li class=md-nav__item> <a href=../../../tokens/manage/multisig-safe/ class=md-nav__link> Moonbeam Safe </a> </li> <li class=md-nav__item> <a href=../../../tokens/manage/identity/ class=md-nav__link> Managing an Identity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/staking/ >Staking</a> <label for=__nav_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-staking-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../tokens/staking/stake/ class=md-nav__link> How to Stake </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../tokens/governance/ >Governance</a> <label for=__nav_4_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-governance-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../tokens/governance/proposals/ class=md-nav__link> Submit a Democracy Proposal </a> </li> <li class=md-nav__item> <a href=../../../tokens/governance/voting/ class=md-nav__link> Vote on a Proposal </a> </li> <li class=md-nav__item> <a href=../../../tokens/governance/treasury-spend/ class=md-nav__link> Submit a Treasury Proposal </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/ >Learn</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/platform/ >Platform</a> <label for=__nav_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-platform-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/platform/networks/ >Networks</a> <label for=__nav_5_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-platform-networks-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../learn/platform/networks/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/networks/moonbase/ class=md-nav__link> Moonbase Alpha </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/networks/moonriver/ class=md-nav__link> Moonriver </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/networks/moonbeam/ class=md-nav__link> Moonbeam </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../learn/platform/vision/ class=md-nav__link> Vision </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/why-polkadot/ class=md-nav__link> Why Polkadot </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/technology/ class=md-nav__link> Technology & Architecture </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/tokens/ class=md-nav__link> Tokens </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/code/ class=md-nav__link> Source Code </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/links/ class=md-nav__link> Important Links </a> </li> <li class=md-nav__item> <a href=../../../learn/platform/glossary/ class=md-nav__link> Glossary </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/core-concepts/ >Core Concepts</a> <label for=__nav_5_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-core-concepts-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../learn/core-concepts/balances/ class=md-nav__link> Account Balances </a> </li> <li class=md-nav__item> <a href=../../../learn/core-concepts/transfers-api/ class=md-nav__link> Balance Transfers </a> </li> <li class=md-nav__item> <a href=../../../learn/core-concepts/consensus-finality/ class=md-nav__link> Consensus & Finality </a> </li> <li class=md-nav__item> <a href=../../../learn/core-concepts/tx-fees/ class=md-nav__link> Transaction Fees </a> </li> <li class=md-nav__item> <a href=../../../learn/core-concepts/unified-accounts/ class=md-nav__link> Unified Accounts </a> </li> <li class=md-nav__item> <a href=../../../learn/core-concepts/security/ class=md-nav__link> Security Considerations </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/features/ >Features</a> <label for=__nav_5_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-features-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../learn/features/xchain-plans/ class=md-nav__link> Cross-Chain Communication </a> </li> <li class=md-nav__item> <a href=../../../learn/features/eth-compatibility/ class=md-nav__link> Ethereum Compatibility </a> </li> <li class=md-nav__item> <a href=../../../learn/features/governance/ class=md-nav__link> Governance </a> </li> <li class=md-nav__item> <a href=../../../learn/features/consensus/ class=md-nav__link> Parachain Consensus </a> </li> <li class=md-nav__item> <a href=../../../learn/features/randomness/ class=md-nav__link> Randomness </a> </li> <li class=md-nav__item> <a href=../../../learn/features/staking/ class=md-nav__link> Staking </a> </li> <li class=md-nav__item> <a href=../../../learn/features/treasury/ class=md-nav__link> Treasury </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../learn/dapps-list/ >DApps List</a> <label for=__nav_5_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-dapps-list-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../learn/dapps-list/dapp-directory/ class=md-nav__link> Moonbeam Foundation DApp Directory </a> </li> <li class=md-nav__item> <a href=../../../learn/dapps-list/dapp-radar/ class=md-nav__link> DappRadar </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../ >Tutorials</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../../interoperability/ >Interoperability</a> <label for=__nav_6_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../interoperability/protocols.index/ >Create Connected Contracts with Cross-Chain Protocols</a> <label for=__nav_6_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-interoperability-protocols.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../../interoperability/cross-chain-dao/ class=md-nav__link> [LayerZero] Creating a Cross-Chain DAO </a> </li> <li class=md-nav__item> <a href=../../interoperability/using-axelar-sdk/ class=md-nav__link> [Axelar] Minting a Cross-Chain NFT </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../interoperability/xcm.index/ >Build Cross-Chain Applications with XCM</a> <label for=__nav_6_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-interoperability-xcm.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../../interoperability/remote-staking-xcm/ class=md-nav__link> [Polkadot's XCM Pallet] Remote Staking on Moonbeam from Polkadot </a> </li> <li class=md-nav__item> <a href=../../interoperability/uniswapv2-swap-xcm/ class=md-nav__link> [Polkadot's XCM Pallet] Uniswap V2 Swap on Moonbeam from Polkadot </a> </li> <li class=md-nav__item> <a href=../../interoperability/remote-batched-evm-calls/ class=md-nav__link> [Polkadot's XCM Pallet] Batched Remote EVM Calls on Moonbeam from Polkadot </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Ethereum API</a> <label for=__nav_6_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_2 checked> <div class="md-nav__link md-nav__link--index "> <a href=../get-started.index/ >Get Started with Smart Contracts</a> <label for=__nav_6_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_2_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-eth-api-get-started.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../chat-gpt/ class=md-nav__link> [ChatGPT] Use GPT-4 to Write and Debug Smart Contracts </a> </li> <li class=md-nav__item> <a href=../how-to-build-a-dapp/ class=md-nav__link> [Ethers.js] How to Build a DApp </a> </li> <li class=md-nav__item> <a href=../foundry-start-to-end/ class=md-nav__link> [Foundry] Development Life Cycle from Start to End </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> [Hardhat] Development Life Cycle from Start to End <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href=./ class="md-nav__link md-nav__link--active"> [Hardhat] Development Life Cycle from Start to End </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label=Sections> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <div class=toc-sections-title>Sections</div> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#checking-prerequisites class=md-nav__link> <span class=md-ellipsis> Checking Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-hardhat-project class=md-nav__link> <span class=md-ellipsis> Creating a Hardhat Project </span> </a> </li> <li class=md-nav__item> <a href=#add-smart-contracts class=md-nav__link> <span class=md-ellipsis> Add Smart Contracts </span> </a> </li> <li class=md-nav__item> <a href=#hardhat-configuration-file class=md-nav__link> <span class=md-ellipsis> Hardhat Configuration File </span> </a> </li> <li class=md-nav__item> <a href=#compiling-the-contract class=md-nav__link> <span class=md-ellipsis> Compiling the Contract </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-the-test-file class=md-nav__link> <span class=md-ellipsis> Configuring the Test File </span> </a> </li> <li class=md-nav__item> <a href=#deploying-a-staking-dao-for-testing class=md-nav__link> <span class=md-ellipsis> Deploying a Staking DAO for Testing </span> </a> </li> <li class=md-nav__item> <a href=#writing-your-first-test-cases class=md-nav__link> <span class=md-ellipsis> Writing your First Test Cases </span> </a> </li> <li class=md-nav__item> <a href=#function-reverts class=md-nav__link> <span class=md-ellipsis> Function Reverts </span> </a> </li> <li class=md-nav__item> <a href=#signing-transactions-from-other-accounts class=md-nav__link> <span class=md-ellipsis> Signing Transactions from Other Accounts </span> </a> </li> <li class=md-nav__item> <a href=#running-your-tests class=md-nav__link> <span class=md-ellipsis> Running your Tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-to-moonbase-alpha class=md-nav__link> <span class=md-ellipsis> Deploying to Moonbase Alpha </span> </a> </li> <li class=md-nav__item> <a href=#verifying-contracts-on-moonbase-alpha class=md-nav__link> <span class=md-ellipsis> Verifying Contracts on Moonbase Alpha </span> </a> </li> <li class=md-nav__item> <a href=#deploying-to-production-on-moonbeam-mainnet class=md-nav__link> <span class=md-ellipsis> Deploying to Production on Moonbeam Mainnet </span> </a> </li> <li class=md-nav__item> <a href=#verifying-contracts-on-moonbeam class=md-nav__link> <span class=md-ellipsis> Verifying Contracts on Moonbeam </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../using-tenderly/ class=md-nav__link> [Tenderly] Using Tenderly to Debug and Simulate Transactions </a> </li> <li class=md-nav__item> <a href=../thirdweb/ class=md-nav__link> [thirdweb] Building a DApp with thirdweb </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../precompiles.index/ >Interact with Precompiles</a> <label for=__nav_6_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-eth-api-precompiles.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../batch-approve-swap/ class=md-nav__link> [Batch] Approve & Swap Tokens in a Single Transaction </a> </li> <li class=md-nav__item> <a href=../randomness-lottery/ class=md-nav__link> [Randomness] Create a Lottery </a> </li> <li class=md-nav__item> <a href=../call-permit-gasless-txs/ class=md-nav__link> [Call Permit] Send Gasless Transactions </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <div class="md-nav__link md-nav__link--index "> <a href=../../integrations/ >Integrations</a> <label for=__nav_6_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../integrations/indexers.index/ >Use Indexers to Query Chain Data</a> <label for=__nav_6_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4_2> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-integrations-indexers.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../../integrations/local-subsquid/ class=md-nav__link> [SQD] Index a Local Dev Node </a> </li> <li class=md-nav__item> <a href=../../integrations/nft-subsquid/ class=md-nav__link> [SQD] Index NFT Transfers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../integrations/oracles.index/ >Use Oracles to Fetch Off-Chain Data</a> <label for=__nav_6_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4_3> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-integrations-oracles.index-" data-md-scrollfix> <li class=md-nav__item> <a href=../../integrations/supra/ class=md-nav__link> [Supra] Fetch Price Data </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../integrations/0xgasless/ class=md-nav__link> Enable Gasless Transactions </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label=Sections> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <div class=toc-sections-title>Sections</div> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#checking-prerequisites class=md-nav__link> <span class=md-ellipsis> Checking Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-hardhat-project class=md-nav__link> <span class=md-ellipsis> Creating a Hardhat Project </span> </a> </li> <li class=md-nav__item> <a href=#add-smart-contracts class=md-nav__link> <span class=md-ellipsis> Add Smart Contracts </span> </a> </li> <li class=md-nav__item> <a href=#hardhat-configuration-file class=md-nav__link> <span class=md-ellipsis> Hardhat Configuration File </span> </a> </li> <li class=md-nav__item> <a href=#compiling-the-contract class=md-nav__link> <span class=md-ellipsis> Compiling the Contract </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-the-test-file class=md-nav__link> <span class=md-ellipsis> Configuring the Test File </span> </a> </li> <li class=md-nav__item> <a href=#deploying-a-staking-dao-for-testing class=md-nav__link> <span class=md-ellipsis> Deploying a Staking DAO for Testing </span> </a> </li> <li class=md-nav__item> <a href=#writing-your-first-test-cases class=md-nav__link> <span class=md-ellipsis> Writing your First Test Cases </span> </a> </li> <li class=md-nav__item> <a href=#function-reverts class=md-nav__link> <span class=md-ellipsis> Function Reverts </span> </a> </li> <li class=md-nav__item> <a href=#signing-transactions-from-other-accounts class=md-nav__link> <span class=md-ellipsis> Signing Transactions from Other Accounts </span> </a> </li> <li class=md-nav__item> <a href=#running-your-tests class=md-nav__link> <span class=md-ellipsis> Running your Tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-to-moonbase-alpha class=md-nav__link> <span class=md-ellipsis> Deploying to Moonbase Alpha </span> </a> </li> <li class=md-nav__item> <a href=#verifying-contracts-on-moonbase-alpha class=md-nav__link> <span class=md-ellipsis> Verifying Contracts on Moonbase Alpha </span> </a> </li> <li class=md-nav__item> <a href=#deploying-to-production-on-moonbeam-mainnet class=md-nav__link> <span class=md-ellipsis> Deploying to Production on Moonbeam Mainnet </span> </a> </li> <li class=md-nav__item> <a href=#verifying-contracts-on-moonbeam class=md-nav__link> <span class=md-ellipsis> Verifying Contracts on Moonbeam </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=hardhat-developer-workflow>Hardhat Developer Workflow<a class=headerlink href=#hardhat-developer-workflow title="Permanent link">&para;</a></h1> <p><em>by Kevin Neilson &amp; Erin Shaben</em></p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>In this tutorial, we'll walk through the <a href=https://hardhat.org target=_blank>Hardhat development environment</a> in the context of launching a <a href=https://github.com/moonbeam-foundation/moonbeam-intro-course-resources/blob/main/delegation-dao-lesson-one/DelegationDAO.sol target=_blank>pooled staking DAO contract</a>. We'll walk through the typical developer workflow in detail from start to finish.</p> <p>We'll assemble the components of the staking DAO and compile the necessary contracts. Then, we'll build a test suite with a variety of test cases relevant to our staking DAO, and run it against a local development node. Finally, we'll deploy the staking DAO to both Moonbase Alpha and Moonbeam and verify the contracts via the <a href=/builders/ethereum/verify-contracts/etherscan-plugins/#using-the-hardhat-etherscan-plugin target=_blank>Hardhat Etherscan plugin</a>. If this is your first time exploring Hardhat, you may wish to start with <a href=/builders/ethereum/dev-env/hardhat/ target=_blank>the introduction to Hardhat guide</a>.</p> <div class=intro-disclaimer> The information presented herein is for informational purposes only and has been provided by third parties. Moonbeam does not endorse any project listed and described on the Moonbeam docs website (https://docs.moonbeam.network/). </div> <h2 id=checking-prerequisites>Checking Prerequisites<a class=headerlink href=#checking-prerequisites title="Permanent link">&para;</a></h2> <p>To get started, you will need the following:</p> <ul> <li>A Moonbase Alpha account funded with DEV. You can get DEV tokens for testing on Moonbase Alpha once every 24 hours from the <a href=https://faucet.moonbeam.network target=_blank>Moonbase Alpha Faucet</a></li> <li>A <a href=/builders/ethereum/verify-contracts/etherscan-plugins/#generating-a-moonscan-api-key target=_blank>Moonscan API Key</a></li> <li>For the <a href=#running-your-tests>Testing section</a>, you'll need to have <a href=/builders/get-started/networks/moonbeam-dev/ target=_blank>a local Moonbeam node up and running</a></li> <li>To test out the examples in this guide on Moonbeam or Moonriver, you will need to have your own endpoint and API key, which you can get from one of the supported <a href=/builders/get-started/endpoints/ target=_blank>Endpoint Providers</a></li> </ul> <h2 id=creating-a-hardhat-project>Creating a Hardhat Project<a class=headerlink href=#creating-a-hardhat-project title="Permanent link">&para;</a></h2> <p>You will need to create a Hardhat project if you don't already have one. You can create one by completing the following steps:</p> <ol> <li> <p>Create a directory for your project</p> <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>stakingDAO<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>cd</span><span class=w> </span>stakingDAO
</code></pre></div> </li> <li> <p>Initialize the project which will create a <code>package.json</code> file</p> <div class=highlight><pre><span></span><code>npm<span class=w> </span>init<span class=w> </span>-y
</code></pre></div> </li> <li> <p>Install Hardhat</p> <div class=highlight><pre><span></span><code>npm<span class=w> </span>install<span class=w> </span>hardhat
</code></pre></div> </li> <li> <p>Create a project</p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>init
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>npx</code> is used to run executables installed locally in your project. Although Hardhat can be installed globally, it is recommended to install it locally in each project so that you can control the version on a project by project basis.</p> </div> </li> <li> <p>A menu will appear allowing you to create a new project or use a sample project. For this example, you can choose <strong>Create an empty hardhat.config.js</strong></p> </li> </ol> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span>npx hardhat init</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;888</span> <span data-ty>8888888888&nbsp;&nbsp;8888b.&nbsp;&nbsp;888d888&nbsp;.d88888&nbsp;88888b.&nbsp;&nbsp;&nbsp;8888b.&nbsp;&nbsp;888888</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"88b&nbsp;888P"&nbsp;&nbsp;d88"&nbsp;888&nbsp;888&nbsp;"88b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"88b&nbsp;888</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;.d888888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;888&nbsp;.d888888&nbsp;888</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;Y88b&nbsp;888&nbsp;888&nbsp;&nbsp;888&nbsp;888&nbsp;&nbsp;888&nbsp;Y88b.</span> <span data-ty>888&nbsp;&nbsp;&nbsp;&nbsp;888&nbsp;"Y888888&nbsp;888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Y88888&nbsp;888&nbsp;&nbsp;888&nbsp;"Y888888&nbsp;&nbsp;"Y888</span> <br> <span data-ty>👷 Welcome to Hardhat v2.22.2 👷‍</span> <br> <span data-ty=input data-ty-prompt=?>&nbsp;What do you want to do? …</span> <span data-ty>&nbsp;&nbsp;Create a JavaScript project </span> <span data-ty>&nbsp;&nbsp;Create a TypeScript project </span> <span data-ty>&nbsp;&nbsp;Create a TypeScript project (with Viem) </span> <span data-ty=input data-ty-prompt="❯ Create an empty hardhat.config.js"></span> <span data-ty>&nbsp;&nbsp;Quit </span> </div> <p>This will create a Hardhat config file (<code>hardhat.config.js</code>) in your project directory.</p> <h2 id=add-smart-contracts>Add Smart Contracts<a class=headerlink href=#add-smart-contracts title="Permanent link">&para;</a></h2> <p>The smart contract featured in this tutorial is more complex than the one in the <a href=/builders/ethereum/dev-env/hardhat/ target=_blank>Introduction to Hardhat</a> but the nature of the contract means it's perfect to demonstrate some of the advanced capabilities of Hardhat. <a href=https://github.com/moonbeam-foundation/moonbeam-intro-course-resources/blob/main/delegation-dao-lesson-one/DelegationDAO.sol target=_blank><code>DelegationDAO.sol</code></a> is a pooled staking DAO that uses <a href=/builders/ethereum/precompiles/features/staking/ target=_blank><code>StakingInterface.sol</code></a> to autonomously delegate to a <a href=/learn/platform/glossary/#collators target=_blank>collator</a> when it reaches a determined threshold. Pooled staking contracts such as <a href=https://github.com/moonbeam-foundation/moonbeam-intro-course-resources/blob/main/delegation-dao-lesson-one/DelegationDAO.sol target=_blank><code>DelegationDAO.sol</code></a> allow delegators with less than the protocol minimum bond to join together to delegate their pooled funds and earn a share of staking rewards.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>DelegationDAO.sol</code> is unreviewed and unaudited. It is designed only for demonstration purposes and not intended for production use. It may contain bugs or logic errors that could result in loss of funds.</p> </div> <p>To get started, take the following steps:</p> <ol> <li> <p>Create a <code>contracts</code> directory to hold your project's smart contracts</p> <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>contracts
</code></pre></div> </li> <li> <p>Create a new file called <code>DelegationDAO.sol</code></p> <div class=highlight><pre><span></span><code>touch<span class=w> </span>contracts/DelegationDAO.sol
</code></pre></div> </li> <li> <p>Copy and paste the contents of <a href=https://raw.githubusercontent.com/moonbeam-foundation/moonbeam-intro-course-resources/main/delegation-dao-lesson-one/DelegationDAO.sol target=_blank>DelegationDAO.sol</a> into <code>DelegationDAO.sol</code></p> <details class=code> <summary>DelegationDAO.sol</summary> <div class=highlight><pre><span></span><code><span class=c1>// SPDX-License-Identifier: GPL-3.0-only</span>
<span class=c1>// This is a PoC to use the staking precompile wrapper as a Solidity developer.</span>
<span class=k>pragma solidity</span><span class=w> </span><span class=o>&gt;=</span><span class=k>0.8.0</span><span class=p>;</span>

<span class=kt>import</span><span class=w> </span><span class=s2>&quot;./StakingInterface.sol&quot;</span><span class=p>;</span>
<span class=kt>import</span><span class=w> </span><span class=s2>&quot;@openzeppelin/contracts/access/AccessControl.sol&quot;</span><span class=p>;</span>
<span class=kt>import</span><span class=w> </span><span class=s2>&quot;@openzeppelin/contracts/utils/Address.sol&quot;</span><span class=p>;</span>


<span class=k>contract</span><span class=w> </span><span class=ni>DelegationDAO</span><span class=w> </span><span class=kt>is</span><span class=w> </span>AccessControl<span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=c1>// Role definition for contract members</span>
<span class=w>    </span><span class=kt>bytes32</span><span class=w> </span><span class=k>public </span><span class=nv>constant</span><span class=w> </span>MEMBER<span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>keccak256</span><span class=p>(</span><span class=s2>&quot;MEMBER&quot;</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Possible states for the DAO to be in:</span>
<span class=w>    </span><span class=c1>// COLLECTING: the DAO is collecting funds before creating a delegation once the minimum delegation stake has been reached</span>
<span class=w>    </span><span class=c1>// STAKING: the DAO has an active delegation</span>
<span class=w>    </span><span class=c1>// REVOKING: the DAO has scheduled a delegation revoke</span>
<span class=w>    </span><span class=c1>// REVOKED: the scheduled revoke has been executed</span>
<span class=w>    </span><span class=kt>enum</span><span class=w> </span><span class=nv>daoState</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>COLLECTING<span class=p>,</span>
<span class=w>        </span>STAKING<span class=p>,</span>
<span class=w>        </span>REVOKING<span class=p>,</span>
<span class=w>        </span>REVOKED
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Current state that the DAO is in</span>
<span class=w>    </span>daoState<span class=w> </span><span class=kt>public</span><span class=w> </span>currentState<span class=p>;</span>

<span class=w>    </span><span class=c1>// Member stakes (doesnt include rewards, represents member shares)</span>
<span class=w>    </span><span class=kt>mapping</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kt>uint256</span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>memberStakes<span class=p>;</span>

<span class=w>    </span><span class=c1>// Total Staking Pool (doesnt include rewards, represents total shares)</span>
<span class=w>    </span><span class=kt>uint256</span><span class=w> </span><span class=k>public </span><span class=nv>totalStake</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// The ParachainStaking wrapper at the known pre-compile address. This will be used to make</span>
<span class=w>    </span><span class=c1>// all calls to the underlying staking solution</span>
<span class=w>    </span>ParachainStaking<span class=w> </span><span class=kt>public</span><span class=w> </span>staking<span class=p>;</span>

<span class=w>    </span><span class=c1>// Minimum Delegation Amount</span>
<span class=w>    </span><span class=kt>uint256</span><span class=w> </span><span class=k>public </span><span class=nv>constant</span><span class=w> </span>minDelegationStk<span class=w> </span><span class=o>=</span><span class=w> </span><span class="m m-Decimal">5</span><span class=w> </span>ether<span class=p>;</span>

<span class=w>    </span><span class=c1>// Moonbeam Staking Precompile address</span>
<span class=w>    </span><span class=kt>address</span><span class=w> </span><span class=k>public </span><span class=nv>constant</span><span class=w> </span>stakingPrecompileAddress<span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=mh>0x0000000000000000000000000000000000000800</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// The collator that this DAO is currently nominating</span>
<span class=w>    </span><span class=kt>address</span><span class=w> </span><span class=k>public </span><span class=nv>target</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// Event for a member deposit</span>
<span class=w>    </span><span class=kt>event</span><span class=w> </span><span class=nv>deposit</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>indexed</span><span class=w> </span>_from<span class=p>,</span><span class=w> </span><span class=kt>uint</span><span class=w> </span><span class=nv>_value</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Event for a member withdrawal</span>
<span class=w>    </span><span class=kt>event</span><span class=w> </span><span class=nv>withdrawal</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>indexed</span><span class=w> </span>_from<span class=p>,</span><span class=w> </span><span class=kt>address</span><span class=w> </span><span class=nv>indexed</span><span class=w> </span>_to<span class=p>,</span><span class=w> </span><span class=kt>uint</span><span class=w> </span><span class=nv>_value</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Initialize a new DelegationDao dedicated to delegating to the given collator target.</span>
<span class=w>    </span><span class=kt>constructor</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>_target</span><span class=p>,</span><span class=w> </span><span class=kt>address</span><span class=w> </span><span class=nv>admin</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// Directly grant roles</span>
<span class=w>        </span>_grantRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>,</span><span class=w> </span>admin<span class=p>);</span>
<span class=w>        </span>_grantRole<span class=p>(</span>MEMBER<span class=p>,</span><span class=w> </span>admin<span class=p>);</span>

<span class=w>        </span><span class=c1>//Sets the collator that this DAO nominating</span>
<span class=w>        </span>target<span class=w> </span><span class=o>=</span><span class=w> </span>_target<span class=p>;</span>

<span class=w>        </span><span class=c1>// Initializes Moonbeam&#39;s parachain staking precompile</span>
<span class=w>        </span>staking<span class=w> </span><span class=o>=</span><span class=w> </span>ParachainStaking<span class=p>(</span>stakingPrecompileAddress<span class=p>);</span>

<span class=w>        </span><span class=c1>//Initialize the DAO state</span>
<span class=w>        </span>currentState<span class=w> </span><span class=o>=</span><span class=w> </span>daoState<span class=p>.</span>COLLECTING<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Simple getter to return the target collator of the DAO</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>getTarget</span><span class=p>()</span><span class=w> </span><span class=kt>public</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>address</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>return</span><span class=w> </span>target<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Grant a user the role of admin</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>grant_admin</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>newAdmin</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span>onlyRole<span class=p>(</span>MEMBER<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>grantRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>,</span><span class=w> </span>newAdmin<span class=p>);</span>
<span class=w>        </span>grantRole<span class=p>(</span>MEMBER<span class=p>,</span><span class=w> </span>newAdmin<span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Grant a user membership</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>grant_member</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>newMember</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>grantRole<span class=p>(</span>MEMBER<span class=p>,</span><span class=w> </span>newMember<span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Revoke a user membership</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>remove_member</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>payable</span><span class=w> </span>exMember
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>revokeRole<span class=p>(</span>MEMBER<span class=p>,</span><span class=w> </span>exMember<span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Increase member stake via a payable function and automatically stake the added amount if possible</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>add_stake</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=w> </span><span class=kt>payable</span><span class=w> </span>onlyRole<span class=p>(</span>MEMBER<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>STAKING<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=c1>// Sanity check</span>
<span class=w>            </span><span class=kt>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span>staking<span class=p>.</span>isDelegator<span class=p>(</span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>)))</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span>revert<span class=p>(</span><span class=s2>&quot;The DAO is in an inconsistent state.&quot;</span><span class=p>);</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>            </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>msg.value</span><span class=p>;</span>
<span class=w>            </span>totalStake<span class=w> </span><span class=o>=</span><span class=w> </span>totalStake<span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>msg.value</span><span class=p>;</span>
<span class=w>            </span>emit<span class=w> </span>deposit<span class=p>(</span><span class=k>msg.sender</span><span class=p>,</span><span class=w> </span><span class=k>msg.value</span><span class=p>);</span>
<span class=w>            </span>staking<span class=p>.</span>delegatorBondMore<span class=p>(</span>target<span class=p>,</span><span class=w> </span><span class=k>msg.value</span><span class=p>);</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=kt>else</span><span class=w> </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>COLLECTING<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>msg.value</span><span class=p>;</span>
<span class=w>            </span>totalStake<span class=w> </span><span class=o>=</span><span class=w> </span>totalStake<span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>msg.value</span><span class=p>;</span>
<span class=w>            </span>emit<span class=w> </span>deposit<span class=p>(</span><span class=k>msg.sender</span><span class=p>,</span><span class=w> </span><span class=k>msg.value</span><span class=p>);</span>
<span class=w>            </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>totalStake<span class=w> </span><span class=o>&lt;</span><span class=w> </span>minDelegationStk<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=kt>return</span><span class=p>;</span>
<span class=w>            </span><span class=p>}</span><span class=w> </span><span class=kt>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=c1>//initialiate the delegation and change the state</span>
<span class=w>                </span>staking<span class=p>.</span>delegate<span class=p>(</span>
<span class=w>                    </span>target<span class=p>,</span>
<span class=w>                    </span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>).</span>balance<span class=p>,</span>
<span class=w>                    </span>staking<span class=p>.</span>candidateDelegationCount<span class=p>(</span>target<span class=p>),</span>
<span class=w>                    </span>staking<span class=p>.</span>delegatorDelegationCount<span class=p>(</span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>))</span>
<span class=w>                </span><span class=p>);</span>
<span class=w>                </span>currentState<span class=w> </span><span class=o>=</span><span class=w> </span>daoState<span class=p>.</span>STAKING<span class=p>;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=kt>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span>revert<span class=p>(</span><span class=s2>&quot;The DAO is not accepting new stakes in the current state.&quot;</span><span class=p>);</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Function for a user to withdraw their stake</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>withdraw</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>payable</span><span class=w> </span>account<span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>MEMBER<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>require</span><span class=p>(</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>!=</span><span class=w> </span>daoState<span class=p>.</span>STAKING<span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;The DAO is not in the correct state to withdraw.&quot;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>        </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>REVOKING<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=kt>bool</span><span class=w> </span><span class=nv>result</span><span class=w> </span><span class=o>=</span><span class=w> </span>execute_revoke<span class=p>();</span>
<span class=w>            </span><span class=kt>require</span><span class=p>(</span>result<span class=p>,</span><span class=w> </span><span class=s2>&quot;Schedule revoke delay is not finished yet.&quot;</span><span class=p>);</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>REVOKED<span class=w> </span><span class=o>||</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>COLLECTING
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=c1>//Sanity checks</span>
<span class=w>            </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>staking<span class=p>.</span>isDelegator<span class=p>(</span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>)))</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span>revert<span class=p>(</span><span class=s2>&quot;The DAO is in an inconsistent state.&quot;</span><span class=p>);</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>            </span><span class=kt>require</span><span class=p>(</span>totalStake<span class=w> </span><span class=o>!=</span><span class=w> </span><span class="m m-Decimal">0</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;Cannot divide by zero.&quot;</span><span class=p>);</span>
<span class=w>            </span><span class=c1>//Calculate the withdrawal amount including staking rewards</span>
<span class=w>            </span><span class=kt>uint</span><span class=w> </span><span class=nv>amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>).</span>balance<span class=w> </span><span class=o>*</span><span class=w> </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>/</span><span class=w> </span>totalStake<span class=p>;</span>
<span class=w>            </span><span class=kt>require</span><span class=p>(</span>
<span class=w>                </span>check_free_balance<span class=p>()</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span>amount<span class=p>,</span>
<span class=w>                </span><span class=s2>&quot;Not enough free balance for withdrawal.&quot;</span>
<span class=w>            </span><span class=p>);</span>
<span class=w>            </span>Address<span class=p>.</span>sendValue<span class=p>(</span>account<span class=p>,</span><span class=w> </span>amount<span class=p>);</span>
<span class=w>            </span>totalStake<span class=w> </span><span class=o>=</span><span class=w> </span>totalStake<span class=w> </span><span class=o>-</span><span class=w> </span><span class=p>(</span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]);</span>
<span class=w>            </span>memberStakes<span class=p>[</span><span class=k>msg.sender</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class="m m-Decimal">0</span><span class=p>;</span>
<span class=w>            </span>emit<span class=w> </span>withdrawal<span class=p>(</span><span class=k>msg.sender</span><span class=p>,</span><span class=w> </span>account<span class=p>,</span><span class=w> </span>amount<span class=p>);</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Schedule revoke, admin only</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>schedule_revoke</span><span class=p>()</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>require</span><span class=p>(</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>STAKING<span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;The DAO is not in the correct state to schedule a revoke.&quot;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>        </span>staking<span class=p>.</span>scheduleRevokeDelegation<span class=p>(</span>target<span class=p>);</span>
<span class=w>        </span>currentState<span class=w> </span><span class=o>=</span><span class=w> </span>daoState<span class=p>.</span>REVOKING<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Try to execute the revoke, returns true if it succeeds, false if it doesn&#39;t</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>execute_revoke</span><span class=p>()</span><span class=w> </span><span class=kt>internal</span><span class=w> </span>onlyRole<span class=p>(</span>MEMBER<span class=p>)</span><span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>require</span><span class=p>(</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>REVOKING<span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;The DAO is not in the correct state to execute a revoke.&quot;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>        </span>staking<span class=p>.</span>executeDelegationRequest<span class=p>(</span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>),</span><span class=w> </span>target<span class=p>);</span>
<span class=w>        </span><span class=kt>if</span><span class=w> </span><span class=p>(</span>staking<span class=p>.</span>isDelegator<span class=p>(</span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>)))</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=kt>return</span><span class=w> </span><span class=kt>false</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=kt>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>=</span><span class=w> </span>daoState<span class=p>.</span>REVOKED<span class=p>;</span>
<span class=w>            </span><span class=kt>return</span><span class=w> </span><span class=kt>true</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Check how much free balance the DAO currently has. It should be the staking rewards if the DAO state is anything other than REVOKED or COLLECTING.</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>check_free_balance</span><span class=p>()</span>
<span class=w>        </span><span class=kt>public</span>
<span class=w>        </span>view
<span class=w>        </span>onlyRole<span class=p>(</span>MEMBER<span class=p>)</span>
<span class=w>        </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=kt>return</span><span class=w> </span><span class=kt>address</span><span class=p>(</span><span class=kt>this</span><span class=p>).</span>balance<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Change the collator target, admin only</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>change_target</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>newCollator</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kt>require</span><span class=p>(</span>
<span class=w>            </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>REVOKED<span class=w> </span><span class=o>||</span>
<span class=w>                </span>currentState<span class=w> </span><span class=o>==</span><span class=w> </span>daoState<span class=p>.</span>COLLECTING<span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;The DAO is not in the correct state to change staking target.&quot;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>        </span>target<span class=w> </span><span class=o>=</span><span class=w> </span>newCollator<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Reset the DAO state back to COLLECTING, admin only</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>reset_dao</span><span class=p>()</span><span class=w> </span><span class=kt>public</span><span class=w> </span>onlyRole<span class=p>(</span>DEFAULT_ADMIN_ROLE<span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>currentState<span class=w> </span><span class=o>=</span><span class=w> </span>daoState<span class=p>.</span>COLLECTING<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=c1>// Override _setupRole to use grantRole as _setupRole does not exist in AccessControl anymore</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>_setupRole</span><span class=p>(</span><span class=kt>bytes32</span><span class=w> </span><span class=nv>role</span><span class=p>,</span><span class=w> </span><span class=kt>address</span><span class=w> </span><span class=nv>account</span><span class=p>)</span><span class=w> </span><span class=kt>internal</span><span class=w> </span>virtual<span class=w> </span><span class=p>{</span>
<span class=w>        </span>grantRole<span class=p>(</span>role<span class=p>,</span><span class=w> </span>account<span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> </details> </li> <li> <p>Create a new file called <code>StakingInterface.sol</code> in the <code>contracts</code> directory</p> <div class=highlight><pre><span></span><code>touch<span class=w> </span>contracts/StakingInterface.sol
</code></pre></div> </li> <li> <p>Copy and paste the contents of <a href=https://raw.githubusercontent.com/moonbeam-foundation/moonbeam/master/precompiles/parachain-staking/StakingInterface.sol target=_blank>StakingInterface.sol</a> into <code>StakingInterface.sol</code></p> <details class=code> <summary>StakingInterface.sol</summary> <div class=highlight><pre><span></span><code><span class=c1>// SPDX-License-Identifier: GPL-3.0-only</span>
<span class=k>pragma solidity</span><span class=w> </span><span class=o>&gt;=</span><span class=k>0.8.3</span><span class=p>;</span>

<span class=c1>/// @dev The ParachainStaking contract&#39;s address.</span>
<span class=kt>address</span><span class=w> </span><span class=nv>constant</span><span class=w> </span>PARACHAIN_STAKING_ADDRESS<span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x0000000000000000000000000000000000000800</span><span class=p>;</span>

<span class=c1>/// @dev The ParachainStaking contract&#39;s instance.</span>
ParachainStaking<span class=w> </span><span class=kt>constant</span><span class=w> </span>PARACHAIN_STAKING_CONTRACT<span class=w> </span><span class=o>=</span><span class=w> </span>ParachainStaking<span class=p>(</span>
<span class=w>    </span>PARACHAIN_STAKING_ADDRESS
<span class=p>);</span>

<span class=c1>/// @author The Moonbeam Team</span>
<span class=c1>/// @title Pallet Parachain Staking Interface</span>
<span class=c1>/// @dev The interface through which Solidity contracts will interact with Parachain Staking</span>
<span class=c1>/// We follow this same interface including four-byte function selectors, in the precompile that</span>
<span class=c1>/// wraps the pallet</span>
<span class=c1>/// @custom:address 0x0000000000000000000000000000000000000800</span>
interface<span class=w> </span>ParachainStaking<span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>/// @dev Check whether the specified address is currently a staking delegator</span>
<span class=w>    </span><span class=c1>/// @custom:selector fd8ab482</span>
<span class=w>    </span><span class=c1>/// @param delegator the address that we want to confirm is a delegator</span>
<span class=w>    </span><span class=c1>/// @return A boolean confirming whether the address is a delegator</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>isDelegator</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Check whether the specified address is currently a collator candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector d51b9e93</span>
<span class=w>    </span><span class=c1>/// @param candidate the address that we want to confirm is a collator andidate</span>
<span class=w>    </span><span class=c1>/// @return A boolean confirming whether the address is a collator candidate</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>isCandidate</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Check whether the specified address is currently a part of the active set</span>
<span class=w>    </span><span class=c1>/// @custom:selector 740d7d2a</span>
<span class=w>    </span><span class=c1>/// @param candidate the address that we want to confirm is a part of the active set</span>
<span class=w>    </span><span class=c1>/// @return A boolean confirming whether the address is a part of the active set</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>isSelectedCandidate</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Total points awarded to all collators in a particular round</span>
<span class=w>    </span><span class=c1>/// @custom:selector 9799b4e7</span>
<span class=w>    </span><span class=c1>/// @param round the round for which we are querying the points total</span>
<span class=w>    </span><span class=c1>/// @return The total points awarded to all collators in the round</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>points</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>round</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Total points awarded to a specific collator in a particular round.</span>
<span class=w>    </span><span class=c1>/// A value of `0` may signify that no blocks were produced or that the storage for that round has been removed</span>
<span class=w>    </span><span class=c1>/// @custom:selector bfea66ac</span>
<span class=w>    </span><span class=c1>/// @param round the round for which we are querying the awarded points</span>
<span class=w>    </span><span class=c1>/// @param candidate The candidate to whom the points are awarded</span>
<span class=w>    </span><span class=c1>/// @return The total points awarded to the collator for the provided round</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>awardedPoints</span><span class=p>(</span>
<span class=w>        </span><span class=kt>uint32</span><span class=w> </span><span class=nv>round</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint32</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev The amount delegated in support of the candidate by the delegator</span>
<span class=w>    </span><span class=c1>/// @custom:selector a73e51bc</span>
<span class=w>    </span><span class=c1>/// @param delegator Who made this delegation</span>
<span class=w>    </span><span class=c1>/// @param candidate The candidate for which the delegation is in support of</span>
<span class=w>    </span><span class=c1>/// @return The amount of the delegation in support of the candidate by the delegator</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegationAmount</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Whether the delegation is in the top delegations</span>
<span class=w>    </span><span class=c1>/// @custom:selector 91cc8657</span>
<span class=w>    </span><span class=c1>/// @param delegator Who made this delegation</span>
<span class=w>    </span><span class=c1>/// @param candidate The candidate for which the delegation is in support of</span>
<span class=w>    </span><span class=c1>/// @return If delegation is in top delegations (is counted)</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>isInTopDelegations</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the minimum delegation amount</span>
<span class=w>    </span><span class=c1>/// @custom:selector 02985992</span>
<span class=w>    </span><span class=c1>/// @return The minimum delegation amount</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>minDelegation</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the CandidateCount weight hint</span>
<span class=w>    </span><span class=c1>/// @custom:selector a9a981a3</span>
<span class=w>    </span><span class=c1>/// @return The CandidateCount weight hint</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateCount</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the current round number</span>
<span class=w>    </span><span class=c1>/// @custom:selector 146ca531</span>
<span class=w>    </span><span class=c1>/// @return The current round number</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>round</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the CandidateDelegationCount weight hint</span>
<span class=w>    </span><span class=c1>/// @custom:selector 2ec087eb</span>
<span class=w>    </span><span class=c1>/// @param candidate The address for which we are querying the nomination count</span>
<span class=w>    </span><span class=c1>/// @return The number of nominations backing the collator</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateDelegationCount</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint32</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the CandidateAutoCompoundingDelegationCount weight hint</span>
<span class=w>    </span><span class=c1>/// @custom:selector 905f0806</span>
<span class=w>    </span><span class=c1>/// @param candidate The address for which we are querying the auto compounding</span>
<span class=w>    </span><span class=c1>///     delegation count</span>
<span class=w>    </span><span class=c1>/// @return The number of auto compounding delegations</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateAutoCompoundingDelegationCount</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint32</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the DelegatorDelegationCount weight hint</span>
<span class=w>    </span><span class=c1>/// @custom:selector 067ec822</span>
<span class=w>    </span><span class=c1>/// @param delegator The address for which we are querying the delegation count</span>
<span class=w>    </span><span class=c1>/// @return The number of delegations made by the delegator</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegatorDelegationCount</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Get the selected candidates for the current round</span>
<span class=w>    </span><span class=c1>/// @custom:selector bcf868a6</span>
<span class=w>    </span><span class=c1>/// @return The selected candidate accounts</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>selectedCandidates</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>address</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Whether there exists a pending request for a delegation made by a delegator</span>
<span class=w>    </span><span class=c1>/// @custom:selector 3b16def8</span>
<span class=w>    </span><span class=c1>/// @param delegator the delegator that made the delegation</span>
<span class=w>    </span><span class=c1>/// @param candidate the candidate for which the delegation was made</span>
<span class=w>    </span><span class=c1>/// @return Whether a pending request exists for such delegation</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegationRequestIsPending</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Whether there exists a pending exit for candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector 43443682</span>
<span class=w>    </span><span class=c1>/// @param candidate the candidate for which the exit request was made</span>
<span class=w>    </span><span class=c1>/// @return Whether a pending request exists for such delegation</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateExitIsPending</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Whether there exists a pending bond less request made by a candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector d0deec11</span>
<span class=w>    </span><span class=c1>/// @param candidate the candidate which made the request</span>
<span class=w>    </span><span class=c1>/// @return Whether a pending bond less request was made by the candidate</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateRequestIsPending</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>bool</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Returns the percent value of auto-compound set for a delegation</span>
<span class=w>    </span><span class=c1>/// @custom:selector b4d4c7fd</span>
<span class=w>    </span><span class=c1>/// @param delegator the delegator that made the delegation</span>
<span class=w>    </span><span class=c1>/// @param candidate the candidate for which the delegation was made</span>
<span class=w>    </span><span class=c1>/// @return Percent of rewarded amount that is auto-compounded on each payout</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegationAutoCompound</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint8</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Join the set of collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector 1f2f83ad</span>
<span class=w>    </span><span class=c1>/// @param amount The amount self-bonded by the caller to become a collator candidate</span>
<span class=w>    </span><span class=c1>/// @param candidateCount The number of candidates in the CandidatePool</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>joinCandidates</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>amount</span><span class=p>,</span><span class=w> </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateCount</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Request to leave the set of collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector b1a3c1b7</span>
<span class=w>    </span><span class=c1>/// @param candidateCount The number of candidates in the CandidatePool</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>scheduleLeaveCandidates</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateCount</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Execute due request to leave the set of collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector 3867f308</span>
<span class=w>    </span><span class=c1>/// @param candidate The candidate address for which the pending exit request will be executed</span>
<span class=w>    </span><span class=c1>/// @param candidateDelegationCount The number of delegations for the candidate to be revoked</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>executeLeaveCandidates</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateDelegationCount</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Cancel request to leave the set of collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector 9c76ebb4</span>
<span class=w>    </span><span class=c1>/// @param candidateCount The number of candidates in the CandidatePool</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>cancelLeaveCandidates</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateCount</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Temporarily leave the set of collator candidates without unbonding</span>
<span class=w>    </span><span class=c1>/// @custom:selector a6485ccd</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>goOffline</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Rejoin the set of collator candidates if previously had called `goOffline`</span>
<span class=w>    </span><span class=c1>/// @custom:selector 6e5b676b</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>goOnline</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Request to bond more for collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector a52c8643</span>
<span class=w>    </span><span class=c1>/// @param more The additional amount self-bonded</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>candidateBondMore</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>more</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Request to bond less for collator candidates</span>
<span class=w>    </span><span class=c1>/// @custom:selector 60744ae0</span>
<span class=w>    </span><span class=c1>/// @param less The amount to be subtracted from self-bond and unreserved</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>scheduleCandidateBondLess</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>less</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Execute pending candidate bond request</span>
<span class=w>    </span><span class=c1>/// @custom:selector 2e290290</span>
<span class=w>    </span><span class=c1>/// @param candidate The address for the candidate for which the request will be executed</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>executeCandidateBondLess</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Cancel pending candidate bond request</span>
<span class=w>    </span><span class=c1>/// @custom:selector b5ad5f07</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>cancelCandidateBondLess</span><span class=p>()</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @notice DEPRECATED use delegateWithAutoCompound instead for lower weight and better UX</span>
<span class=w>    </span><span class=c1>/// @dev Make a delegation in support of a collator candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector 829f5ee3</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the supported collator candidate</span>
<span class=w>    </span><span class=c1>/// @param amount The amount bonded in support of the collator candidate</span>
<span class=w>    </span><span class=c1>/// @param candidateDelegationCount The number of delegations in support of the candidate</span>
<span class=w>    </span><span class=c1>/// @param delegatorDelegationCount The number of existing delegations by the caller</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegate</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>amount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateDelegationCount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>delegatorDelegationCount</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Make a delegation in support of a collator candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector 4b8bc9bf</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the supported collator candidate</span>
<span class=w>    </span><span class=c1>/// @param amount The amount bonded in support of the collator candidate</span>
<span class=w>    </span><span class=c1>/// @param autoCompound The percent of reward that should be auto-compounded</span>
<span class=w>    </span><span class=c1>/// @param candidateDelegationCount The number of delegations in support of the candidate</span>
<span class=w>    </span><span class=c1>/// @param candidateAutoCompoundingDelegationCount The number of auto-compounding delegations</span>
<span class=w>    </span><span class=c1>/// in support of the candidate</span>
<span class=w>    </span><span class=c1>/// @param delegatorDelegationCount The number of existing delegations by the caller</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegateWithAutoCompound</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>amount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint8</span><span class=w> </span><span class=nv>autoCompound</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateDelegationCount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateAutoCompoundingDelegationCount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>delegatorDelegationCount</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Request to revoke an existing delegation</span>
<span class=w>    </span><span class=c1>/// @custom:selector 1a1c740c</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the collator candidate which will no longer be supported</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>scheduleRevokeDelegation</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Bond more for delegators with respect to a specific collator candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector 0465135b</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the collator candidate for which delegation shall increase</span>
<span class=w>    </span><span class=c1>/// @param more The amount by which the delegation is increased</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>delegatorBondMore</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span><span class=w> </span><span class=kt>uint256</span><span class=w> </span><span class=nv>more</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Request to bond less for delegators with respect to a specific collator candidate</span>
<span class=w>    </span><span class=c1>/// @custom:selector c172fd2b</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the collator candidate for which delegation shall decrease</span>
<span class=w>    </span><span class=c1>/// @param less The amount by which the delegation is decreased (upon execution)</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>scheduleDelegatorBondLess</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>less</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Execute pending delegation request (if exists &amp;&amp; is due)</span>
<span class=w>    </span><span class=c1>/// @custom:selector e98c8abe</span>
<span class=w>    </span><span class=c1>/// @param delegator The address of the delegator</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the candidate</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>executeDelegationRequest</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span><span class=p>,</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Cancel pending delegation request (already made in support of input by caller)</span>
<span class=w>    </span><span class=c1>/// @custom:selector c90eee83</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the candidate</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>cancelDelegationRequest</span><span class=p>(</span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Sets an auto-compound value for a delegation</span>
<span class=w>    </span><span class=c1>/// @custom:selector faa1786f</span>
<span class=w>    </span><span class=c1>/// @param candidate The address of the supported collator candidate</span>
<span class=w>    </span><span class=c1>/// @param value The percent of reward that should be auto-compounded</span>
<span class=w>    </span><span class=c1>/// @param candidateAutoCompoundingDelegationCount The number of auto-compounding delegations</span>
<span class=w>    </span><span class=c1>/// in support of the candidate</span>
<span class=w>    </span><span class=c1>/// @param delegatorDelegationCount The number of existing delegations by the caller</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>setAutoCompound</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint8</span><span class=w> </span><span class=nv>value</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>candidateAutoCompoundingDelegationCount</span><span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=w> </span><span class=nv>delegatorDelegationCount</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Fetch the total staked amount of a delegator, regardless of the</span>
<span class=w>    </span><span class=c1>/// candidate.</span>
<span class=w>    </span><span class=c1>/// @custom:selector e6861713</span>
<span class=w>    </span><span class=c1>/// @param delegator Address of the delegator.</span>
<span class=w>    </span><span class=c1>/// @return Total amount of stake.</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>getDelegatorTotalStaked</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>delegator</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// @dev Fetch the total staked towards a candidate.</span>
<span class=w>    </span><span class=c1>/// @custom:selector bc5a1043</span>
<span class=w>    </span><span class=c1>/// @param candidate Address of the candidate.</span>
<span class=w>    </span><span class=c1>/// @return Total amount of stake.</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>getCandidateTotalCounted</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=w> </span><span class=nv>candidate</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span>view<span class=w> </span><span class=kt>returns</span><span class=w> </span><span class=p>(</span><span class=kt>uint256</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> </details> </li> <li> <p><code>DelegationDAO.sol</code> relies on a couple of standard <a href=https://www.openzeppelin.com target=_blank>OpenZeppelin</a> contracts. Add the library with the following command:</p> <div class=highlight><pre><span></span><code>npm<span class=w> </span>install<span class=w> </span>@openzeppelin/contracts
</code></pre></div> </li> </ol> <h2 id=hardhat-configuration-file>Hardhat Configuration File<a class=headerlink href=#hardhat-configuration-file title="Permanent link">&para;</a></h2> <p>When setting up the <code>hardhat.config.js</code> file, we'll need to import a few plugins that we'll use throughout this guide. So to get started, we'll need the <a href=https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-toolbox target=_blank>Hardhat Toolbox plugin</a>, which conveniently bundles together Hardhat plugins that can be used to deploy and interact with contracts using Ethers, test contracts with Mocha and Chai, verify contracts with Etherscan, and more. You can run the following command to install the plugin:</p> <div class=highlight><pre><span></span><code>npm<span class=w> </span>install<span class=w> </span>--save-dev<span class=w> </span>@nomicfoundation/hardhat-toolbox<span class=w> </span>
</code></pre></div> <p>If you're curious about additional Hardhat plugins, here is <a href=https://hardhat.org/hardhat-runner/plugins target=_blank>a complete list of official Hardhat plugins</a>.</p> <p>For the examples in this guide, you'll need to add your private keys for your two accounts on Moonbase Alpha. Since some of the testing will be done on a development node, you'll also need to add the private keys of two of the prefunded development node accounts, which for this example, we can use Alice and Bob. In addition, you'll add your Moonscan API key, which can be used for both Moonbase Alpha and Moonbeam.</p> <p>You can modify the <code>hardhat.config.js</code> file to use any of the Moonbeam networks:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:4><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><input id=__tabbed_1_4 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Moonbeam</label><label for=__tabbed_1_2>Moonriver</label><label for=__tabbed_1_3>Moonbase Alpha</label><label for=__tabbed_1_4>Moonbeam Dev Node</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nx>moonbeam</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;INSERT_RPC_API_ENDPOINT&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// Insert your RPC URL here</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1284</span><span class=p>,</span><span class=w> </span><span class=c1>// (hex: 0x504),</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>]</span>
<span class=w>    </span><span class=p>},</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nx>moonriver</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;INSERT_RPC_API_ENDPOINT&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// Insert your RPC URL here</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1285</span><span class=p>,</span><span class=w> </span><span class=c1>// (hex: 0x505),</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>]</span>
<span class=w>    </span><span class=p>},</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nx>moonbase</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1287</span><span class=p>,</span><span class=w> </span><span class=c1>// (hex: 0x507),</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>]</span>
<span class=w>    </span><span class=p>},</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nx>dev</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http://127.0.0.1:9944&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1281</span><span class=p>,</span><span class=w> </span><span class=c1>// (hex: 0x501),</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>]</span>
<span class=w>    </span><span class=p>},</span>
</code></pre></div> </div> </div> </div> <ol> <li>Add your <a href=/builders/ethereum/verify-contracts/etherscan-plugins/#generating-a-moonscan-api-key target=_blank>Moonscan API key</a>, which is required for the verification steps we'll be taking later in this tutorial</li> </ol> <div class=highlight><pre><span></span><code><span class=c1>// 1. Import the Hardhat Toolbox plugin</span>
<span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@nomicfoundation/hardhat-toolbox&#39;</span><span class=p>);</span>
<span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@nomicfoundation/hardhat-ignition-ethers&#39;</span><span class=p>);</span>

<span class=c1>// 2. Create variables for your private keys from your pre-funded Moonbase Alpha</span>
<span class=c1>// testing accounts and your Moonscan API key</span>
<span class=kd>const</span><span class=w> </span><span class=nx>privateKey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;INSERT_PRIVATE_KEY&#39;</span><span class=p>;</span>
<span class=kd>const</span><span class=w> </span><span class=nx>privateKey2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;INSERT_ANOTHER_PRIVATE_KEY&#39;</span><span class=p>;</span>
<span class=kd>const</span><span class=w> </span><span class=nx>moonscanAPIKey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;INSERT_MOONSCAN_API_KEY&#39;</span><span class=p>;</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// 3. Specify the Solidity version</span>
<span class=w>  </span><span class=nx>solidity</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;0.8.20&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>networks</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// 4. Add the Moonbase Alpha network specification</span>
<span class=w>    </span><span class=nx>moonbase</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1287</span><span class=p>,</span><span class=w> </span><span class=c1>// 0x507 in hex</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>,</span><span class=w> </span><span class=nx>privateKey2</span><span class=p>],</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>dev</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http://127.0.0.1:9944&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1281</span><span class=p>,</span><span class=w> </span><span class=c1>// 0x501 in hex</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=s1>&#39;0x5fb92d6e98884f76de468fa3f6278f8807c48bebc13595d45af5bdc4da702133&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// Alice&#39;s PK</span>
<span class=w>        </span><span class=s1>&#39;0x8075991ce870b93a8870eca0c0f91913d12f47948ca0fd25b49c6fa7cdbeee8b&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// Bob&#39;s PK</span>
<span class=w>      </span><span class=p>],</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>moonbeam</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://rpc.api.moonbeam.network&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// Or insert your own RPC URL here</span>
<span class=w>      </span><span class=nx>chainId</span><span class=o>:</span><span class=w> </span><span class=mf>1284</span><span class=p>,</span><span class=w> </span><span class=c1>// 0x504 in hex</span>
<span class=w>      </span><span class=nx>accounts</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=nx>privateKey</span><span class=p>,</span><span class=w> </span><span class=nx>privateKey2</span><span class=p>],</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=c1>// 5. Set up your Moonscan API key for contract verification</span>
<span class=w>  </span><span class=c1>// Moonbeam and Moonbase Alpha Moonscan use the same API key</span>
<span class=w>  </span><span class=nx>etherscan</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>apiKey</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>moonbaseAlpha</span><span class=o>:</span><span class=w> </span><span class=nx>moonscanAPIKey</span><span class=p>,</span><span class=w> </span><span class=c1>// Moonbase Moonscan API Key</span>
<span class=w>      </span><span class=nx>moonbeam</span><span class=o>:</span><span class=w> </span><span class=nx>moonscanAPIKey</span><span class=p>,</span><span class=w> </span><span class=c1>// Moonbeam Moonscan API Key</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>  </span><span class=p>},</span>
<span class=p>};</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Any real funds sent to the Alice and Bob development accounts will be lost immediately. Take precautions to never send MainNet funds to exposed development accounts.</p> </div> <p>You're now ready to move on to compilation and testing.</p> <h2 id=compiling-the-contract>Compiling the Contract<a class=headerlink href=#compiling-the-contract title="Permanent link">&para;</a></h2> <p>To compile the contract you can simply run:</p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>compile
</code></pre></div> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span>npx hardhat compile</span> <span data-ty>Compiled 8 Solidity files successfully (evm target: paris).</span> <span data-ty=input><span class=file-path></span></span> </div> <p>After compilation, an <code>artifacts</code> directory is created: it holds the bytecode and metadata of the contract, which are <code>.json</code> files. Adding this directory to your <code>.gitignore</code> is a good idea.</p> <h2 id=testing>Testing<a class=headerlink href=#testing title="Permanent link">&para;</a></h2> <p>A robust smart contract development workflow is complete with a testing suite. Hardhat has a number of tools that make it easy to write and run tests. In this section, you'll learn the basics of testing your smart contracts and some more advanced techniques.</p> <p>Hardhat tests are typically written with Mocha and Chai. <a href=https://mochajs.org target=_blank>Mocha</a> is a JavaScript testing framework and <a href=https://www.chaijs.com target=_blank>Chai</a> is a BDD/TDD JavaScript assertion library. BDD/TDD stands for behavior and test-driven development respectively. Effective BDD/TDD necessitates writing your tests <em>before</em> writing your smart contract code. The structure of this tutorial doesn't strictly follow these guidelines, but you may wish to adopt these principles in your development workflow. Hardhat recommends using <a href=https://hardhat.org/hardhat-runner/docs/advanced/migrating-from-hardhat-waffle target=_blank>Hardhat Toolbox</a>, a plugin that bundles everything you need to get started with Hardhat, including Mocha and Chai.</p> <p>Because we will initially be running our tests on a local Moonbeam node, we need to specify Alice's address as the address of our target collator (Alice's account is the only collator for a local development node):</p> <div class=highlight><pre><span></span><code>0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac
</code></pre></div> <p>If instead you prefer to run your tests against Moonbase Alpha, you can choose the below collator, or <a href=https://apps.moonbeam.network/moonbase-alpha/staking target=_blank>any other collator on Moonbase Alpha</a> you would like the DAO to delegate to:</p> <div class=highlight><pre><span></span><code>0x12E7BCCA9b1B15f33585b5fc898B967149BDb9a5
</code></pre></div> <h3 id=configuring-the-test-file>Configuring the Test File<a class=headerlink href=#configuring-the-test-file title="Permanent link">&para;</a></h3> <p>To set up your test file, take the following steps:</p> <ol> <li> <p>Create a <code>tests</code> directory</p> <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>tests
</code></pre></div> </li> <li> <p>Create a new file called <code>Dao.js</code></p> <div class=highlight><pre><span></span><code>touch<span class=w> </span>tests/Dao.js
</code></pre></div> </li> <li> <p>Then copy and paste the contents below to set up the initial structure of your test file. Be sure to read the comments, as they can clarify the purpose of each line</p> <div class=highlight><pre><span></span><code><span class=c1>// Import Ethers</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>ethers</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;hardhat&#39;</span><span class=p>);</span>

<span class=c1>// Import Chai to use its assertion functions here</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>expect</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;chai&#39;</span><span class=p>);</span>

<span class=c1>// Indicate Alice&#39;s address as the target collator on local development node</span>
<span class=kd>const</span><span class=w> </span><span class=nx>targetCollator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac&#39;</span><span class=p>;</span>
</code></pre></div> </li> </ol> <h3 id=deploying-a-staking-dao-for-testing>Deploying a Staking DAO for Testing<a class=headerlink href=#deploying-a-staking-dao-for-testing title="Permanent link">&para;</a></h3> <p>Before we can run any test cases we'll need to launch a staking DAO with an initial configuration. Our setup here is relatively simple - we'll be deploying a staking DAO with a single administrator (the deployer) and then adding a new member to the DAO. This simple setup is perfect for demonstration purposes, but it's easy to imagine more complex configurations you'd like to test, such as a scenario with 100 DAO members or one with multiple admins of the DAO.</p> <p>Mocha's <code>describe</code> function enables you to organize your tests. Multiple <code>describe</code> functions can be nested together. It's entirely optional but can be useful, especially in complex projects with many test cases. You can read more about constructing tests and <a href=https://mochajs.org/#getting-started target=_blank>getting started with Mocha</a> on the Mocha docs site.</p> <p>We'll define a function called <code>deployDao</code> containing the setup steps for our staking DAO. To configure your test file, add the following snippet:</p> <div class=highlight><pre><span></span><code><span class=c1>// The describe function receives the name of a section of your test suite, and a callback. The callback must define the tests of that section. This callback can&#39;t be an async function</span>
<span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Dao contract&#39;</span><span class=p>,</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=nx>wallet1</span><span class=p>,</span><span class=w> </span><span class=nx>wallet2</span><span class=p>;</span>

<span class=w>  </span><span class=nx>before</span><span class=p>(</span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// Get signers we defined in Hardhat config</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>signers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>ethers</span><span class=p>.</span><span class=nx>getSigners</span><span class=p>();</span>
<span class=w>    </span><span class=nx>wallet1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>signers</span><span class=p>[</span><span class=mf>0</span><span class=p>];</span>
<span class=w>    </span><span class=nx>wallet2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>signers</span><span class=p>[</span><span class=mf>1</span><span class=p>];</span>
<span class=w>  </span><span class=p>});</span>

<span class=w>  </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>deployDao</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>delegationDaoFactory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>ethers</span><span class=p>.</span><span class=nx>getContractFactory</span><span class=p>(</span>
<span class=w>      </span><span class=s1>&#39;DelegationDAO&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>wallet2</span>
<span class=w>    </span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Deploy the staking DAO and wait for the deployment transaction to be confirmed</span>
<span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>delegationDaoFactory</span><span class=p>.</span><span class=nx>deploy</span><span class=p>(</span>
<span class=w>        </span><span class=nx>targetCollator</span><span class=p>,</span>
<span class=w>        </span><span class=nx>wallet2</span><span class=p>.</span><span class=nx>address</span>
<span class=w>      </span><span class=p>);</span>
<span class=w>      </span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>waitForDeployment</span><span class=p>();</span><span class=w> </span><span class=c1>// Wait for the transaction to be mined</span>
<span class=w>      </span><span class=k>return</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>};</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=nx>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Failed to deploy contract:&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>error</span><span class=p>);</span>
<span class=w>      </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w> </span><span class=c1>// Return null to indicate failure</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=w>  </span><span class=c1>// Insert additional tests here</span>
<span class=p>});</span><span class=w> </span>
</code></pre></div> <h3 id=writing-your-first-test-cases>Writing your First Test Cases<a class=headerlink href=#writing-your-first-test-cases title="Permanent link">&para;</a></h3> <p>First, you'll create a subsection called <code>Deployment</code> to keep the test file organized. This will be nested within the <code>Dao contract</code> describe function. Next, you'll define your first test case by using the <code>it</code> Mocha function. This first test checks to see that the staking DAO correctly stores the address of the target collator.</p> <p>Add the snippet below to the end of your <code>Dao contract</code> function.</p> <div class=highlight><pre><span></span><code><span class=c1>// You can nest calls to create subsections</span>
<span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Deployment&#39;</span><span class=p>,</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// Mocha&#39;s it function is used to define each of your tests. It receives the test name, and a callback function. If the callback function is async, Mocha will await it. Test case to check that the correct target collator is stored</span>
<span class=w>  </span><span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should store the correct target collator in the DAO&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>deployment</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nx>deployment</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=o>!</span><span class=nx>deployment</span><span class=p>.</span><span class=nx>deployedDao</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s1>&#39;Deployment failed; DAO contract was not deployed.&#39;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployment</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// The expect function receives a value and wraps it in an assertion object.</span>
<span class=w>    </span><span class=c1>// This test will pass if the DAO stored the correct target collator</span>
<span class=w>    </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>getTarget</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span>
<span class=w>      </span><span class=s1>&#39;0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac&#39;</span>
<span class=w>    </span><span class=p>);</span>
<span class=w>  </span><span class=p>});</span>
<span class=w>  </span><span class=c1>// The following test cases should be added here</span>
<span class=p>});</span>
</code></pre></div> <p>Now, add another test case. When a staking DAO is launched, it shouldn't have any funds. This test verifies that is indeed the case. Go ahead and add the following test case to your <code>Dao.js</code> file:</p> <div class=highlight><pre><span></span><code><span class=c1>// Test case to check that the DAO has 0 funds at inception</span>
<span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should initially have 0 funds in the DAO&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>  </span><span class=c1>// This test will pass if the DAO has no funds as expected before any contributions</span>
<span class=w>  </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>totalStake</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=p>});</span>
</code></pre></div> <h3 id=function-reverts>Function Reverts<a class=headerlink href=#function-reverts title="Permanent link">&para;</a></h3> <p>Now, you'll implement a more complex test case with a slightly different architecture. In prior examples, you've verified that a function returns an expected value. In this one, you'll be verifying that a function reverts. You'll also change the caller's address to test an admin-only function.</p> <p>In the <a href=https://github.com/moonbeam-foundation/moonbeam-intro-course-resources/blob/main/delegation-dao-lesson-one/DelegationDAO.sol target=_blank>staking DAO contract</a>, only admins are authorized to add new members to the DAO. One could write a test that checks to see if the admin is authorized to add new members but a more important test is to ensure that <em>non-admins</em> can't add new members. To run this test case under a different account, you will ask for another address when you call <code>ethers.getSigners()</code> and specify the caller in the assertion with <code>connect(member1)</code>. Finally, after the function call you'll append <code>.to.be.reverted</code> to indicate that the test case is successful if the function reverts. And if it doesn't revert, it's a failed test!</p> <div class=highlight><pre><span></span><code><span class=c1>// Test case to check that non-admins cannot grant membership</span>
<span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should not allow non-admins to grant membership&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>  </span><span class=c1>// Connect the non-admin wallet to the deployed contract</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>wallet1</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>grant_member</span><span class=p>(</span>
<span class=w>    </span><span class=s1>&#39;0x0000000000000000000000000000000000000000&#39;</span>
<span class=w>  </span><span class=p>);</span>

<span class=w>  </span><span class=c1>// Check that the transaction reverts, not specifying any particular reason</span>
<span class=w>  </span><span class=k>await</span><span class=w> </span><span class=nx>expect</span><span class=p>(</span><span class=nx>tx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>reverted</span><span class=p>;</span>
<span class=p>});</span>
</code></pre></div> <h3 id=signing-transactions-from-other-accounts>Signing Transactions from Other Accounts<a class=headerlink href=#signing-transactions-from-other-accounts title="Permanent link">&para;</a></h3> <p>For this example, you'll verify whether the newly added DAO member can call the <code>check_free_balance()</code> function of staking DAO, which has an access modifier such that only members can access it.</p> <div class=highlight><pre><span></span><code><span class=c1>// Test case to check that members can access member only functions</span>
<span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should only allow members to access member-only functions&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>

<span class=w>  </span><span class=c1>// Connect the wallet1 to the deployed contract and grant membership</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>wallet2</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>grantTx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>grant_member</span><span class=p>(</span><span class=nx>wallet1</span><span class=p>.</span><span class=nx>address</span><span class=p>);</span>
<span class=w>  </span><span class=k>await</span><span class=w> </span><span class=nx>grantTx</span><span class=p>.</span><span class=nx>wait</span><span class=p>();</span>

<span class=w>  </span><span class=c1>// Check the free balance using the member&#39;s credentials</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>checkTx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>check_free_balance</span><span class=p>();</span>

<span class=w>  </span><span class=c1>// Since check_free_balance() does not modify state, we expect it not to be reverted and check the balance</span>
<span class=w>  </span><span class=k>await</span><span class=w> </span><span class=nx>expect</span><span class=p>(</span><span class=nx>checkTx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>not</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>reverted</span><span class=p>;</span>
<span class=w>  </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>checkTx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=p>});</span>
</code></pre></div> <p>And that's it! You're now ready to run your tests!</p> <h3 id=running-your-tests>Running your Tests<a class=headerlink href=#running-your-tests title="Permanent link">&para;</a></h3> <p>If you've followed all of the prior sections, your <a href=https://raw.githubusercontent.com/moonbeam-foundation/moonbeam-intro-course-resources/main/delegation-dao-lesson-one/Dao.js target=_blank><code>Dao.js</code></a> test file should be all set to go.</p> <details class=code> <summary>Dao.js</summary> <div class=highlight><pre><span></span><code><span class=c1>// Import Ethers</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>ethers</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;hardhat&#39;</span><span class=p>);</span>
<span class=c1>// Import Chai to use its assertion functions here</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>expect</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;chai&#39;</span><span class=p>);</span>

<span class=c1>// Indicate the collator the DAO wants to delegate to</span>
<span class=c1>// For Moonbase Local Node, use: 0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac</span>
<span class=c1>// For Moonbase Alpha, use: 0x12E7BCCA9b1B15f33585b5fc898B967149BDb9a5</span>
<span class=kd>const</span><span class=w> </span><span class=nx>targetCollator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;INSERT_COLLATOR_ADDRESS&#39;</span><span class=p>;</span>

<span class=c1>// The describe function receives the name of a section of your test suite, and a</span>
<span class=c1>// callback. The callback must define the tests of that section. This callback</span>
<span class=c1>// can&#39;t be an async function</span>
<span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Dao contract&#39;</span><span class=p>,</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=nx>wallet1</span><span class=p>,</span><span class=w> </span><span class=nx>wallet2</span><span class=p>;</span>

<span class=w>  </span><span class=nx>before</span><span class=p>(</span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// Get signers we defined in Hardhat config</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>signers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>ethers</span><span class=p>.</span><span class=nx>getSigners</span><span class=p>();</span>
<span class=w>    </span><span class=nx>wallet1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>signers</span><span class=p>[</span><span class=mf>0</span><span class=p>];</span>
<span class=w>    </span><span class=nx>wallet2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>signers</span><span class=p>[</span><span class=mf>1</span><span class=p>];</span>
<span class=w>  </span><span class=p>});</span>

<span class=w>  </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>deployDao</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>delegationDaoFactory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>ethers</span><span class=p>.</span><span class=nx>getContractFactory</span><span class=p>(</span>
<span class=w>      </span><span class=s1>&#39;DelegationDAO&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=nx>wallet2</span>
<span class=w>    </span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Deploy the staking DAO and wait for the deployment transaction to be confirmed</span>
<span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>delegationDaoFactory</span><span class=p>.</span><span class=nx>deploy</span><span class=p>(</span>
<span class=w>        </span><span class=nx>targetCollator</span><span class=p>,</span>
<span class=w>        </span><span class=nx>wallet2</span><span class=p>.</span><span class=nx>address</span>
<span class=w>      </span><span class=p>);</span>
<span class=w>      </span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>waitForDeployment</span><span class=p>();</span><span class=w> </span><span class=c1>// Correct way to wait for the transaction to be mined</span>
<span class=w>      </span><span class=k>return</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>};</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=nx>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Failed to deploy contract:&#39;</span><span class=p>,</span><span class=w> </span><span class=nx>error</span><span class=p>);</span>
<span class=w>      </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w> </span><span class=c1>// Return null to indicate failure</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Deployment&#39;</span><span class=p>,</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// Test case to check that the correct target collator is stored</span>
<span class=w>    </span><span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should store the correct target collator in the DAO&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>deployment</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>      </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nx>deployment</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=o>!</span><span class=nx>deployment</span><span class=p>.</span><span class=nx>deployedDao</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s1>&#39;Deployment failed; DAO contract was not deployed.&#39;</span><span class=p>);</span>
<span class=w>      </span><span class=p>}</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployment</span><span class=p>;</span>
<span class=w>      </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>getTarget</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span>
<span class=w>        </span><span class=s1>&#39;0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac&#39;</span>
<span class=w>      </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=c1>// Test case to check that the DAO has 0 funds at inception</span>
<span class=w>    </span><span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should initially have 0 funds in the DAO&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>      </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>totalStake</span><span class=p>()).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=c1>// Test case to check that non-admins cannot grant membership</span>
<span class=w>    </span><span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should not allow non-admins to grant membership&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>
<span class=w>      </span><span class=c1>// Connect the non-admin wallet to the deployed contract</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>wallet1</span><span class=p>);</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>tx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>grant_member</span><span class=p>(</span>
<span class=w>        </span><span class=s1>&#39;0x0000000000000000000000000000000000000000&#39;</span>
<span class=w>      </span><span class=p>);</span>

<span class=w>      </span><span class=c1>// Check that the transaction reverts, not specifying any particular reason</span>
<span class=w>      </span><span class=k>await</span><span class=w> </span><span class=nx>expect</span><span class=p>(</span><span class=nx>tx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>reverted</span><span class=p>;</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=c1>// Test case to check that members can access member only functions</span>
<span class=w>    </span><span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should only allow members to access member-only functions&#39;</span><span class=p>,</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>deployedDao</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployDao</span><span class=p>();</span>

<span class=w>      </span><span class=c1>// Connect the wallet1 to the deployed contract and grant membership</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDao</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>wallet2</span><span class=p>);</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>grantTx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>grant_member</span><span class=p>(</span><span class=nx>wallet1</span><span class=p>.</span><span class=nx>address</span><span class=p>);</span>
<span class=w>      </span><span class=k>await</span><span class=w> </span><span class=nx>grantTx</span><span class=p>.</span><span class=nx>wait</span><span class=p>();</span>

<span class=w>      </span><span class=c1>// Check the free balance using the member&#39;s credentials</span>
<span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>checkTx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>deployedDaoConnected</span><span class=p>.</span><span class=nx>check_free_balance</span><span class=p>();</span>

<span class=w>      </span><span class=c1>// Since check_free_balance() does not modify state, we expect it not to be reverted and check the balance</span>
<span class=w>      </span><span class=k>await</span><span class=w> </span><span class=nx>expect</span><span class=p>(</span><span class=nx>checkTx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>not</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>reverted</span><span class=p>;</span>
<span class=w>      </span><span class=nx>expect</span><span class=p>(</span><span class=k>await</span><span class=w> </span><span class=nx>checkTx</span><span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>
<span class=w>  </span><span class=p>});</span>
<span class=p>});</span>
</code></pre></div> </details> <p>Since our test cases encompass mostly configuration and setup of the staking DAO and don't involve actual delegation actions, we'll be running our tests on a Moonbeam development node (local node). Remember that Alice (<code>0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac</code>) is the only collator on a local development node. You can use the flag <code>--network moonbase</code> to run the tests using Moonbase Alpha. In that case, ensure your deployer address is sufficiently funded with DEV tokens.</p> <div class="admonition challenge"> <p class=admonition-title>Challenge</p> <p>Try to create an additional test case that verifies the staking DAO successfully delegates to a collator once <code>minDelegationStk</code> is met. You must test this on Moonbase Alpha rather than a local development node.</p> </div> <p>First, make sure that your local Moonbeam node is running by following the <a href=/builders/get-started/networks/moonbeam-dev/ target=_blank>instructions for launching a local development node</a>. Take precautions because you could inadvertently send real funds to the Alice and Bob development accounts, resulting in a loss of those funds. </p> <p>You can run your tests with the following command:</p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span><span class=nb>test</span><span class=w> </span>--network<span class=w> </span>dev<span class=w> </span>tests/Dao.js
</code></pre></div> <p>If everything was set up correctly, you should see output like the following:</p> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span>npx hardhat test --network dev tests/Dao.js</span> <br> <br> <span data-ty>Dao contract</span> <span data-ty> Deployment</span> <span data-ty> ✅ The DAO should store the correct target collator (1624ms)</span> <span data-ty> ✅ The DAO should initially have 0 funds in it</span> <span data-ty> ✅ Non-admins should not be able to grant membership (150ms)</span> <span data-ty> ✅ DAO members should be able to access member only functions (132ms)</span> <br> <br> <span data-ty> ✅ 4 passing (2s)</span> <span data-ty=input><span class=file-path></span></span> </div> <h2 id=deploying-to-moonbase-alpha>Deploying to Moonbase Alpha<a class=headerlink href=#deploying-to-moonbase-alpha title="Permanent link">&para;</a></h2> <p>In the following steps, we'll deploy the <code>DelegationDAO</code> to the Moonbase Alpha TestNet. Before deploying to Moonbase Alpha or Moonbeam, double-check that you're not using the Alice and Bob accounts, which should only be used on a local development node.</p> <p>As a side note, <code>DelegationDAO</code> relies on <a href=/builders/ethereum/precompiles/features/staking/ target=_blank><code>StakingInterface.sol</code></a>, which is a Substrate-based offering unique to Moonbeam networks. The Hardhat Network and forked networks are simulated EVM environments which do not include the Substrate-based precompiles like <code>StakingInterface.sol</code>. Therefore, <code>DelegationDAO</code> will not work properly if deployed to the local default Hardhat Network or a <a href=/builders/ethereum/dev-env/hardhat/#forking-moonbeam target=_blank>forked network</a>.</p> <p>To deploy <code>DelegationDAO</code>, you'll use Hardhat Ignition, a declarative framework for deploying smart contracts. Hardhat Ignition is designed to make it easy to manage recurring tasks surrounding smart contract deployment and testing. For more information about Hardhat Ignition and its architecture, be sure to check out the <a href=https://hardhat.org/ignition/docs/getting-started#overview target=_blank>Hardhat Ignition docs</a>.</p> <p>To set up the proper file structure for your Ignition module, create a folder named <code>ignition</code> and a subdirectory called <code>modules</code>. Then, add a new file to it called <code>DelegationDao.js</code>. You can take all three of these steps with the following command:</p> <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>ignition<span class=w> </span>ignition/modules<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>touch<span class=w> </span>ignition/modules/DelegationDao.js
</code></pre></div> <p>Next, you can write your Hardhat Ignition module. To get started, take the following steps:</p> <ol> <li>Import the <code>buildModule</code> function from the Hardhat Ignition module</li> <li>Export a module using <code>buildModule</code></li> <li>Specify the target collator candidate for the DAO to delegate to</li> <li>Use the <code>getAccount</code> method to select the deployer account</li> <li>Deploy <code>DelegationDAO.sol</code></li> <li>Return an object from the module. This makes the <code>DelegationDao</code> contract accessible for interaction in Hardhat tests and scripts</li> </ol> <p>When all is said and done your deployment script should look similar to the following:</p> <div class=highlight><pre><span></span><code><span class=c1>// 1. Import the required function from the Hardhat Ignition module</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>buildModule</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@nomicfoundation/hardhat-ignition/modules&#39;</span><span class=p>);</span>

<span class=c1>// 2. Define and export your deployment module using `buildModule`</span>
<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>buildModule</span><span class=p>(</span><span class=s1>&#39;DelegationDAOModule&#39;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=nx>m</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// 3. Specify the target collator address for the DAO</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>targetCollator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;0x12E7BCCA9b1B15f33585b5fc898B967149BDb9a5&#39;</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// 4. Use the `getAccount` method to select the deployer account</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>deployer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>m</span><span class=p>.</span><span class=nx>getAccount</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>

<span class=w>  </span><span class=c1>// 5. Deploy the `DelegationDAO` contract</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>delegationDao</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>m</span><span class=p>.</span><span class=nx>contract</span><span class=p>(</span>
<span class=w>    </span><span class=s1>&#39;DelegationDAO&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=p>[</span><span class=nx>targetCollator</span><span class=p>,</span><span class=w> </span><span class=nx>deployer</span><span class=p>],</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>      </span><span class=kr>from</span><span class=o>:</span><span class=w> </span><span class=nx>deployer</span><span class=p>,</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>);</span>

<span class=w>  </span><span class=c1>// 6. Return an object from the module including references to deployed contracts, allowing the contract to be accessible for interaction in Hardhat tests and scripts</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>delegationDao</span><span class=w> </span><span class=p>};</span>
<span class=p>});</span>
</code></pre></div> <p>To run the script and deploy the <code>DelegationDAO.sol</code> contract, use the following command, which requires you to specify the network name as defined in your <code>hardhat.config.js</code>. If you don't specify a network, Hardhat will deploy the contract to a local Hardhat network by default. </p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>ignition<span class=w> </span>deploy<span class=w> </span>./ignition/modules/DelegationDao.js<span class=w> </span>--network<span class=w> </span>moonbase<span class=w> </span>--deployment-id<span class=w> </span>INSERT_YOUR_NAME
</code></pre></div> <p>You'll be prompted to confirm the network you wish to deploy to. After a few seconds after you confirm, the contract is deployed, and you'll see the contract address in the terminal.</p> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span> npx hardhat ignition deploy ./ignition/modules/DelegationDao.js --network moonbase --deployment-id INSERT_YOUR_NAME</span> <br> <span data-ty>✅ Confirm deploy to network moonbase (1287)? … yes</span> <span data-ty>Hardhat Ignition 🚀</span> <br> <span data-ty>Deploying [ DelegationDAOModule ]</span> <br> <span data-ty>Batch #1</span> <span data-ty>Executed DelegationDAOModule#DelegationDAO</span> <br> <span data-ty>[ DelegationDAOModule ] successfully deployed 🚀</span> <br> <span data-ty>Deployed Addresses</span> <br> <span data-ty>DelegationDAOModule#DelegationDAO - 0x69c555fE1A8D0916E6dab0629bd7530D4d2Be4D1</span> <span data-ty=input><span class=file-path></span></span> </div> <p>Congratulations, your contract is live on Moonbase Alpha! Save the address, as you will use it to interact with this contract instance in the next step.</p> <h2 id=verifying-contracts-on-moonbase-alpha>Verifying Contracts on Moonbase Alpha<a class=headerlink href=#verifying-contracts-on-moonbase-alpha title="Permanent link">&para;</a></h2> <p>Contract verification is an essential step of any developer's workflow, particularly in the theoretical example of this staking DAO. Potential participants in the DAO need to be assured that the smart contract works as intended - and verifying the contract allows anyone to observe and analyze the deployed smart contract.</p> <p>While it's possible to verify smart contracts on the <a href=https://moonscan.io/verifyContract target=_blank>Moonscan website</a>, the Hardhat Etherscan plugin enables us to verify our staking DAO in a faster and easier manner. It's not an exaggeration to say that the plugin dramatically simplifies the contract verification process, especially for projects that include multiple Solidity files or libraries.</p> <p>Before beginning the contract verification process, you'll need to <a href=/builders/ethereum/verify-contracts/etherscan-plugins/#generating-a-moonscan-api-key target=_blank>acquire a Moonscan API Key</a>. Note that Moonbeam and Moonbase Alpha use the same <a href=https://moonscan.io target=_blank>Moonbeam Moonscan</a> API key, whereas you'll need a distinct API key for <a href=https://moonriver.moonscan.io target=_blank>Moonriver</a>.</p> <p>To verify the contract, you will run the <code>ignition verify</code> command and pass the name of your deployment you set in the prior step.</p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>ignition<span class=w> </span>verify<span class=w> </span>INSERT_YOUR_NAME
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you're deploying <code>DelegationDAO.sol</code> verbatim without any changes, you may get an <code>Already Verified</code> error because Moonscan automatically recognizes and verifies smart contracts that have matching bytecode. Your contract will still show as verified, so there is nothing else you need to do. However, if you'd prefer to verify your own <code>DelegationDAO.sol</code>, you can make a small change to the contract (such as changing a comment) and repeating the compilation, deployment and verification steps.</p> </div> <p>In your terminal, you should see the source code for your contract was successfully submitted for verification. If the verification was successful, you should see <strong>Successfully verified contract</strong> and there will be a link to the contract code on <a href=https://moonbase.moonscan.io target=_blank>Moonscan for Moonbase Alpha</a>. If the plugin returns an error, double check that your API key is configured correctly and that you have specified all necessary parameters in the verification command. You can refer to the <a href=/builders/ethereum/verify-contracts/etherscan-plugins/ target=_blank>guide to the Hardhat Etherscan plugin</a> for more information.</p> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span> npx hardhat ignition verify INSERT_YOUR_NAME</span> <br> <span data-ty>Nothing to compile</span> <span data-ty>Successfully submitted source code for contract contracts/DelegationDAO.sol:DelegationDAO at 0x5D788B98E4A90F9642352B0b32694998e77cF4d7 for verification on the block explorer. Waiting for verification result...</span> <br> <span data-ty>Successfully verified contract DelegationDAO on Etherscan.</span> <br> <span data-ty>https://moonbase.moonscan.io/address/0x5D788B98E4A90F9642352B0b32694998e77cF4d7#code</span> <span data-ty=input><span class=file-path></span></span> </div> <h2 id=deploying-to-production-on-moonbeam-mainnet>Deploying to Production on Moonbeam Mainnet<a class=headerlink href=#deploying-to-production-on-moonbeam-mainnet title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>DelegationDAO.sol</code> is unreviewed and unaudited. It is designed only for demonstration purposes and not intended for production use. It may contain bugs or logic errors that could result in loss of funds.</p> </div> <p>In the following steps, we'll be deploying the <code>DelegationDAO</code> contract to the Moonbeam MainNet network. Remember to add the Moonbeam network to your <a href=#hardhat-configuration-file><code>hardhat.config.js</code></a> and update the private keys of your accounts on Moonbeam if you haven't done so already. Before deploying <code>DelegationDAO</code> to Moonbeam, we need to change the address of the target collator, since our target collator on Moonbase Alpha does not exist on Moonbeam. Head to your deploy script and change the target collator to <code>0x1C86E56007FCBF759348dcF0479596a9857Ba105</code> or <a href=https://apps.moonbeam.network/moonbeam/staking target=_blank>another Moonbeam collator</a> of your choice. Your deployment script, named <code>DelegationDao.js</code>, should thus look like the following:</p> <div class=highlight><pre><span></span><code><span class=c1>// 1. Import the required function from the Hardhat Ignition module</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>buildModule</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@nomicfoundation/hardhat-ignition/modules&#39;</span><span class=p>);</span>

<span class=c1>// 2. Define and export your deployment module using `buildModule`</span>
<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>buildModule</span><span class=p>(</span><span class=s1>&#39;DelegationDAOModule&#39;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=nx>m</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// 3. Specify the target collator address for the DAO</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>targetCollator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;0x1C86E56007FCBF759348dcF0479596a9857Ba105&#39;</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// 4. Use the `getAccount` method to select the deployer account</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>deployer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>m</span><span class=p>.</span><span class=nx>getAccount</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>

<span class=w>  </span><span class=c1>// 5. Deploy the `DelegationDAO` contract</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>delegationDao</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>m</span><span class=p>.</span><span class=nx>contract</span><span class=p>(</span>
<span class=w>    </span><span class=s1>&#39;DelegationDAO&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=p>[</span><span class=nx>targetCollator</span><span class=p>,</span><span class=w> </span><span class=nx>deployer</span><span class=p>],</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>      </span><span class=kr>from</span><span class=o>:</span><span class=w> </span><span class=nx>deployer</span><span class=p>,</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>);</span>

<span class=w>  </span><span class=c1>// 6. Return an object from the module including references to deployed contracts, allowing the contract to be accessible for interaction in Hardhat tests and scripts</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>delegationDao</span><span class=w> </span><span class=p>};</span>
<span class=p>});</span>
</code></pre></div> <p>To run the script and deploy the <code>DelegationDAO.sol</code> contract, use the following command, which requires you to specify the network name as defined in your <code>hardhat.config.js</code>. If you don't specify a network, Hardhat will deploy the contract to a local Hardhat network by default. </p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>ignition<span class=w> </span>deploy<span class=w> </span>./ignition/modules/DelegationDao.js<span class=w> </span>--network<span class=w> </span>moonbeam<span class=w> </span>--deployment-id<span class=w> </span>INSERT_YOUR_NAME
</code></pre></div> <p>You'll be prompted to confirm the network you wish to deploy to. After a few seconds after you confirm, the contract is deployed, and you'll see the contract address in the terminal.</p> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span> npx hardhat ignition deploy ./ignition/modules/DelegationDao.js --network moonbeam --deployment-id INSERT_YOUR_NAME</span> <br> <span data-ty>✅ Confirm deploy to network moonbeam (1284)? … yes</span> <span data-ty>Hardhat Ignition 🚀</span> <br> <span data-ty>Deploying [ DelegationDAOModule ]</span> <br> <span data-ty>Batch #1</span> <span data-ty>Executed DelegationDAOModule#DelegationDAO</span> <br> <span data-ty>[ DelegationDAOModule ] successfully deployed 🚀</span> <br> <span data-ty>Deployed Addresses</span> <br> <span data-ty>DelegationDAOModule#DelegationDAO - 0x6D895A55F5ba31e582bCEe71cae394266F240e9b</span> <span data-ty=input><span class=file-path></span></span> </div> <p>Congratulations, your contract is live on Moonbeam! Save the address, as you will use it to interact with this contract instance in the next step.</p> <h2 id=verifying-contracts-on-moonbeam>Verifying Contracts on Moonbeam<a class=headerlink href=#verifying-contracts-on-moonbeam title="Permanent link">&para;</a></h2> <p>In this section, we'll be verifying the contract that was just deployed on Moonbeam. Before beginning the contract verification process, you'll need to <a href=/builders/ethereum/verify-contracts/etherscan-plugins/#generating-a-moonscan-api-key target=_blank>acquire a Moonscan API Key</a>. Note that Moonbeam and Moonbase Alpha use the same <a href=https://moonscan.io target=_blank>Moonbeam Moonscan</a> API key, whereas you'll need a distinct API key for <a href=https://moonriver.moonscan.io target=_blank>Moonriver</a>.</p> <p>To verify the contract, you will run the <code>ignition verify</code> command and pass the name of your deployment you set in the prior step.</p> <div class=highlight><pre><span></span><code>npx<span class=w> </span>hardhat<span class=w> </span>ignition<span class=w> </span>verify<span class=w> </span>INSERT_YOUR_NAME
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you're deploying <code>DelegationDAO.sol</code> verbatim without any changes, you may get an <code>Already Verified</code> error because Moonscan automatically recognizes and verifies smart contracts that have matching bytecode. Your contract will still show as verified, so there is nothing else you need to do. However, if you'd prefer to verify your own <code>DelegationDAO.sol</code>, you can make a small change to the contract (such as changing a comment) and repeating the compilation, deployment, and verification steps.</p> </div> <p>In your terminal you should see the source code for your contract was successfully submitted for verification. If the verification was successful, you should see <strong>Successfully verified contract</strong> and there will be a link to the contract code on <a href=https://moonscan.io target=_blank>Moonbeam Moonscan</a>. If the plugin returns an error, double check that your API key is configured correctly and that you have specified all necessary parameters in the verification command. You can refer to the <a href=/builders/ethereum/verify-contracts/etherscan-plugins/ target=_blank>guide to the Hardhat Etherscan plugin</a> for more information.</p> <div id=termynal data-termynal> <span data-ty=input><span class=file-path></span> npx hardhat ignition verify INSERT_YOUR_NAME</span> <br> <span data-ty>Nothing to compile</span> <span data-ty>Successfully submitted source code for contract contracts/DelegationDAO.sol:DelegationDAO at 0x6D895A55F5ba31e582bCEe71cae394266F240e9b for verification on the block explorer. Waiting for verification result...</span> <br> <span data-ty>Successfully verified contract DelegationDAO on Etherscan.</span> <br> <span data-ty>https://moonbeam.moonscan.io/address/0x6D895A55F5ba31e582bCEe71cae394266F240e9b#code</span> <span data-ty=input><span class=file-path></span></span> </div> <p>And that's it! We covered a lot of ground in this tutorial, but there's more resources available if you'd like to go deeper, including the following:</p> <ul> <li><a href=https://hardhat.org/hardhat-runner/docs/guides/test-contracts target=_blank>Hardhat guide to Testing Contracts</a></li> <li><a href=https://hardhat.org/hardhat-runner/docs/guides/tasks target=_blank>Writing tasks and scripts</a></li> </ul> <div class=page-disclaimer> This tutorial is for educational purposes only. As such, any contracts or code created in this tutorial should not be used in production. </div> <div class=page-disclaimer> The information presented herein has been provided by third parties and is made available solely for general information purposes. Moonbeam does not endorse any project listed and described on the Moonbeam Doc Website (https://docs.moonbeam.network/). Moonbeam Foundation does not warrant the accuracy, completeness or usefulness of this information. Any reliance you place on such information is strictly at your own risk. Moonbeam Foundation disclaims all liability and responsibility arising from any reliance placed on this information by you or by anyone who may be informed of any of its contents. All statements and/or opinions expressed in these materials are solely the responsibility of the person or entity providing those materials and do not necessarily represent the opinion of Moonbeam Foundation. The information should not be construed as professional or financial advice of any kind. Advice from a suitably qualified professional should always be sought in relation to any particular matter or circumstance. The information herein may link to or integrate with other websites operated or content provided by third parties, and such other websites may link to this website. Moonbeam Foundation has no control over any such other websites or their content and will have no liability arising out of or related to such websites or their content. The existence of any such link does not constitute an endorsement of such websites, the content of the websites, or the operators of the websites. These links are being provided to you only as a convenience and you release and hold Moonbeam Foundation harmless from any and all liability arising from your use of this information or the information provided by any third-party website or service. </div> <div class=md-source-file> <small> <span class=source-file-label>Last update:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 6, 2025</span> <br> <span class=source-file-seperator>|</span> <span class=source-file-label>Created:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 6, 2025</span> </small> <!-- Was this page helpful? --> <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine feedback configuration --> <!-- Determine whether to show feedback --> <!-- Was this page helpful? --> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <!-- Feedback ratings --> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> True <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2M1 21h4V9H1v12Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> False <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2Z"/></svg> </button> </div> <!-- Feedback rating notes (shown after submission) --> <div class=md-feedback__note> <div data-md-value=1 hidden> <!-- Determine title --> <!-- Replace {url} and {title} placeholders in note --> Thanks for your feedback! </div> <div data-md-value=0 hidden> <!-- Determine title --> <!-- Replace {url} and {title} placeholders in note --> Thanks for your feedback! Help us improve this page by submitting <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+Hardhat%20Developer%20Workflow+-+/tutorials/eth-api/hardhat-start-to-end/" target=_blank rel=noopener>additional feedback</a>. </div> </div> </div> </fieldset> </form> </div> <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine feedback configuration --> <!-- Determine whether to show feedback --> <!-- Was this page helpful? --> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <!-- Feedback ratings --> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> True <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2M1 21h4V9H1v12Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> False <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2Z"/></svg> </button> </div> <!-- Feedback rating notes (shown after submission) --> <div class=md-feedback__note> <div data-md-value=1 hidden> <!-- Determine title --> <!-- Replace {url} and {title} placeholders in note --> Thanks for your feedback! </div> <div data-md-value=0 hidden> <!-- Determine title --> <!-- Replace {url} and {title} placeholders in note --> Thanks for your feedback! Help us improve this page by submitting <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+Hardhat%20Developer%20Workflow+-+/tutorials/eth-api/hardhat-start-to-end/" target=_blank rel=noopener>additional feedback</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=footer.title> <a href=../foundry-start-to-end/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg version=1.1 id=Layer_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px width=122.883px height=122.882px viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space=preserve><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <span class=md-footer__page-name> [Foundry] Development Life Cycle from Start to End </span> </div> </a> <a href=../using-tenderly/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <span class=md-footer__page-name> [Tenderly] Using Tenderly to Debug and Simulate Transactions </span> </div> <div class="md-footer__button md-icon"> <svg version=1.1 id=Layer_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px width=122.883px height=122.882px viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space=preserve><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column newsletter"> <label class=newsletter-label>Join our newsletter</label> <form class=md-footer-newsletter> <!-- These script tags are for the newsletter signup and must be here --> <script charset=utf-8 type=text/javascript src=//js.hsforms.net/forms/v2.js></script> <script>
            hbspt.forms.create({
              region: "na1",
              portalId: "6074164",
              formId: "e5b4a7bd-1d01-479a-ac4a-da1b38bb1acb"
            });
            </script> </form> </div> <div class=md-social> <a href=https://discord.gg/PfpUATX target=_blank rel=noopener title=Discord class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href=https://t.me/Moonbeam_Official target=_blank rel=noopener title=Telegram class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg> </a> <a href=https://twitter.com/MoonbeamNetwork target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg> </a> <a href=https://www.youtube.com/c/MoonbeamNetwork target=_blank rel=noopener title=YouTube class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> <a href=https://github.com/moonbeam-foundation/moonbeam target=_blank rel=noopener title=GitHub class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> © 2024 Moonbeam Foundation. All Rights Reserved. </div> <div class=papermoon> <span>Made with 🩵 by <a href=https://papermoon.io/ target=_blank>PaperMoon</a></span> </div> <div class=policy-links> <a href=https://moonbeam.network/terms-of-use target=_blank>Terms of use</a> <a href=https://moonbeam.network/privacy-policy target=_blank>Privacy policy</a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.prune", "content.code.copy", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.081f42fc.min.js></script> <script src=../../../js/connectMetaMask.min.js></script> <script src=../../../js/errorModal.min.js></script> <script src=../../../js/networkModal.min.js></script> <script src=../../../js/handleLanguageChange.min.js></script> <script src=../../../js/fixCreatedDate.min.js></script> <script src=../../../js/externalLinkModal.min.js></script> </body> </html>